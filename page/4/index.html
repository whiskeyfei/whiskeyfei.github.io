<!DOCTYPE html>




<html class="theme-next pisces" lang="zh-CN">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">












<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />






















<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=6.0.5" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/uploads/apple-touch-icon-next.png?v=6.0.5">


  <link rel="icon" type="image/png" sizes="32x32" href="/uploads/favicon-32x32.png?v=6.0.5">


  <link rel="icon" type="image/png" sizes="16x16" href="/uploads/favicon-16x16.png?v=6.0.5">


  <link rel="mask-icon" href="/uploads/logo.svg?v=6.0.5" color="#222">









<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '6.0.5',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":false,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  
  <meta name="keywords" content="Android, Life" />


<meta name="description" content="记录学习、生活">
<meta property="og:type" content="website">
<meta property="og:title" content="無名小子的杂货铺">
<meta property="og:url" content="http://whiskeyfei.github.io/page/4/index.html">
<meta property="og:site_name" content="無名小子的杂货铺">
<meta property="og:description" content="记录学习、生活">
<meta property="og:locale" content="zh-CN">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="無名小子的杂货铺">
<meta name="twitter:description" content="记录学习、生活">






  <link rel="canonical" href="http://whiskeyfei.github.io/page/4/"/>



<script type="text/javascript" id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>
  <title>無名小子的杂货铺</title>
  









  <noscript>
  <style type="text/css">
    .use-motion .motion-element,
    .use-motion .brand,
    .use-motion .menu-item,
    .sidebar-inner,
    .use-motion .post-block,
    .use-motion .pagination,
    .use-motion .comments,
    .use-motion .post-header,
    .use-motion .post-body,
    .use-motion .collection-title { opacity: initial; }

    .use-motion .logo,
    .use-motion .site-title,
    .use-motion .site-subtitle {
      opacity: initial;
      top: initial;
    }

    .use-motion {
      .logo-line-before i { left: initial; }
      .logo-line-after i { right: initial; }
    }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-CN">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"> 

<div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">無名小子的杂货铺</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">越努力越幸运</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        
          
  <li class="menu-item menu-item-home">
    <a href="/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-home"></i> <br />首页</a>
</li>

      
        
        
          
  <li class="menu-item menu-item-about">
    <a href="/about/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-user"></i> <br />关于</a>
</li>

      
        
        
          
  <li class="menu-item menu-item-tags">
    <a href="/tags/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />标签</a>
</li>

      
        
        
          
  <li class="menu-item menu-item-categories">
    <a href="/categories/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-th"></i> <br />分类</a>
</li>

      
        
        
          
  <li class="menu-item menu-item-archives">
    <a href="/archives/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />归档</a>
</li>

      

      
    </ul>
  

  

  
</nav>


  



 </div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
            

          
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://whiskeyfei.github.io/2016/03/25/android/2016-8-23-typeface/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="無名">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/face.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="無名小子的杂货铺">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/03/25/android/2016-8-23-typeface/" itemprop="url">Android 换字体总结</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-03-25T11:59:01+09:00">2016-03-25</time>
            

            
            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Android/" itemprop="url" rel="index"><span itemprop="name">Android</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>之前调研客户端动态换字体，尝试过很多方案，也走过很多弯路，总结下心路历程</p>
<p>1、和 Rom 无关，限 App 内<br><br>2、支持动态切换<br><br>3、方式（自定义 、遍历、替换）<br></p>
<h4 id="一、归根结底"><a href="#一、归根结底" class="headerlink" title="一、归根结底"></a>一、归根结底</h4><p>归根结底都是改变 Typeface 然后通过 setTypeface() 设置字体，包括系统的控件和 cavas 的 paint。</p>
<h4 id="二、基础"><a href="#二、基础" class="headerlink" title="二、基础"></a>二、基础</h4><p>系统提供从 asset 目录和普通目录获取Typeface方法，如下：</p>
<pre><code>Typeface.createFromAsset(mContext.getAssets(), name);
Typeface.createFromFile(path);
</code></pre><p>有了Typeface 就能更好的为换字体提供支持</p>
<h4 id="三、方式"><a href="#三、方式" class="headerlink" title="三、方式"></a>三、方式</h4><h5 id="1、自定义"><a href="#1、自定义" class="headerlink" title="1、自定义"></a>1、自定义</h5><p>先来说说比较笨的方式，自定义所有能显示文字的控件，重写 setTypeface 方法，设置自己的 typeface 即可</p>
<p>优点：直观一劳永逸，后期如果有其他需求，可以跟进开发，例如：不仅是字体样式，还有 Style 样式动态改变的情况；</p>
<p>代码示例：</p>
<pre><code>@Override
public void setTypeface(Typeface tf) {
    Typeface currentTypeface = TypefaceHelper.getInstance().getCurrentTypeface();
        if (currentTypeface != null) {
            super.setTypeface(currentTypeface);
            return;
        }
    super.setTypeface(tf);
}
</code></pre><h5 id="2、遍历："><a href="#2、遍历：" class="headerlink" title="2、遍历："></a>2、遍历：</h5><p>查过很多资料也翻过 github 上的代码，有很多采用对当前页面 view 进行遍历的方式，遇到 继承自 TextView 的 View 就动态设置 typeface；</p>
<p>优点：不用更改 xml、只在使用时候更改字体；</p>
<p>缺点：<br></p>
<ul>
<li>循环遍历消耗性能，对大量 view 的界面不太适合，容易造成页面卡顿现象；</li>
<li>对采用 cavas 的自定义画布的方式需要单独处理里面的文字显示；</li>
</ul>
<p>代码示例：</p>
<pre><code>private void applyForView(View view, Typeface typeface) {
    if (view instanceof TextView) {
        TextView textView = (TextView) view;
        TextPaint paint = textView.getPaint();
        paint.setTypeface(typeface);
        textView.invalidate();
    }
}
</code></pre><h5 id="3、替换掉系统字体"><a href="#3、替换掉系统字体" class="headerlink" title="3、替换掉系统字体"></a>3、替换掉系统字体</h5><p>在程序启动初始化的时候，将系统的字体通过反射的方式替换掉我们的字体包，这个是目前改动最小的地方</p>
<p>优点：<br></p>
<ul>
<li>不用更改 xml、和动态更改 typeface；<br></li>
</ul>
<p>缺点：<br></p>
<ul>
<li>干涉了系统字体，可能会造成影响;<br></li>
</ul>
<p>参考：<a href="https://github.com/whiskeyfei/FontOverrideExample" target="_blank" rel="noopener">https://github.com/whiskeyfei/FontOverrideExample</a><br></p>
<p>代码示例：</p>
<pre><code>final Typeface normal_monospace = Typeface.createFromAsset(getAssets(), DEFAULT_MONOSPACE_NORMAL_FONT_FILENAME);
Field monospaceDefaultField = Typeface.class.getDeclaredField(&quot;MONOSPACE&quot;);
monospaceDefaultField.setAccessible(true);
monospaceDefaultField.set(null, normal_monospace);
</code></pre><h3 id="四、动态改变："><a href="#四、动态改变：" class="headerlink" title="四、动态改变："></a>四、动态改变：</h3><p>1、采用观察者模式，字体改变通知所以订阅着改变自己的字体；<br><br>2、ViewGroup做监听，遍历所有子 view，还需要注意的动态新添加的 view 也要绑定监听，不然新 view 不能动态改变;<br></p>
<p>这两种方式都试过，由于 view 较多，影响效率，也就放弃了。</p>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>以上简单总结了 Android 换字体使用的方案，可以翻看参考的 github 库来实践。</p>
<p>注意：如果是中文字体，一定要注意字体包的完整性，有一些是个人做的，可能会有一些问题，我遇到的就是中英文字体 padding 不一样，造成显示效果不一样。<br></p>
<h4 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h4><p>一些关于字体的开源库：<br></p>
<ul>
<li><a href="https://github.com/chrisjenx/Calligraphy" target="_blank" rel="noopener">https://github.com/chrisjenx/Calligraphy</a></li>
<li><a href="https://github.com/johnkil/Android-Icon-Fonts" target="_blank" rel="noopener">https://github.com/johnkil/Android-Icon-Fonts</a></li>
<li><a href="https://github.com/GcsSloop/FontsManager" target="_blank" rel="noopener">https://github.com/GcsSloop/FontsManager</a></li>
<li><a href="https://github.com/vsvankhede/EasyFonts" target="_blank" rel="noopener">https://github.com/vsvankhede/EasyFonts</a></li>
<li><a href="https://github.com/Pixplicity/letterpress" target="_blank" rel="noopener">https://github.com/Pixplicity/letterpress</a></li>
<li><a href="https://github.com/svendvd/Fontinator" target="_blank" rel="noopener">https://github.com/svendvd/Fontinator</a></li>
</ul>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://whiskeyfei.github.io/2016/03/25/android/2016-4-8-android-overdraw-note/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="無名">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/face.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="無名小子的杂货铺">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/03/25/android/2016-4-8-android-overdraw-note/" itemprop="url">Android Overdraw 初识及如何优化</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-03-25T11:59:01+09:00">2016-03-25</time>
            

            
            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Android/" itemprop="url" rel="index"><span itemprop="name">Android</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>最近在分析项目中的内存泄露和过渡绘制问题，关于如何避免简单内存泄露问题，已经在其他博客中记录了，今天来记录下关于 Android OverDraw 的知识点。</p>
<h2 id="Overdraw-概况"><a href="#Overdraw-概况" class="headerlink" title="Overdraw 概况"></a>Overdraw 概况</h2><p>Overdraw(过度绘制)描述的是屏幕上的某个像素在同一帧的时间内被绘制了多次。在多层次的UI结构里面，如果不可见的UI也在做绘制的操作，这就会导致某些像素区域被绘制了多次，这就浪费大量的CPU以及GPU资源，从而降低了程序的性能。</p>
<p>例如：在白色的顶部栏绘制一个按钮，按钮绘制在背景上面，就是overdraw，当然这里只是说明。</p>
<h3 id="如何开启？"><a href="#如何开启？" class="headerlink" title="如何开启？"></a>如何开启？</h3><p>开发者选项 - 开启GPU过度绘制</p>
<p><img src="!--￼1--&gt;/Overdraw1.png" alt=""></p>
<h3 id="基本效果"><a href="#基本效果" class="headerlink" title="基本效果"></a>基本效果</h3><p><img src="!--￼2--&gt;/Overdraw3.png" alt=""></p>
<h3 id="颜色含义解释"><a href="#颜色含义解释" class="headerlink" title="颜色含义解释"></a>颜色含义解释</h3><ul>
<li>没有颜色:  表示没有重绘</li>
<li>蓝色：表示重绘了一次,每个像素只画了两次,大块的蓝色是可以接受的</li>
<li>绿色：表示重绘了两次,每个像素画了三次,中等尺寸的绿色方块是可以接受的，最好尝试优化</li>
<li>红色：表示重绘了三次，这个像素被画了四次,很小尺寸的红色方块是可以接受的</li>
<li>黑色：表示重绘了四次及以上,这个像素被画了五次及以上。这个是要必须解决的</li>
</ul>
<h3 id="对比"><a href="#对比" class="headerlink" title="对比"></a>对比</h3><p>打开调试的应用，观察颜色过渡绘制情况，根据显示颜色分析哪些需要优化！</p>
<p>系统页面</p>
<p><img src="!--￼3--&gt;/Overdraw2.png" alt=""></p>
<p>VST 应用</p>
<p><img src="!--￼4--&gt;/Overdraw5.png" alt=""></p>
<p><img src="!--￼5--&gt;/Overdraw6.png" alt=""></p>
<h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><p>以上只是简单介绍了如何调适使用 Overdraw 调适工具，还可以使用 android 自带工具 Hierarchy Viewer，<br>来查看 view 的层级关系，4.2以下没有 Overdraw 调适选项，如果真机没有的话可以使用<br>第三方的 genymotion 模拟器，很好用。</p>
<h3 id="实例"><a href="#实例" class="headerlink" title="实例"></a>实例</h3><p>主要是为了说明问题，在 demo 中演示，以下是效果对比：</p>
<p>之前：</p>
<p><img src="!--￼6--&gt;/Overdraw7.png" alt=""></p>
<p>之后：白色区域为没有重复绘制</p>
<p><img src="!--￼7--&gt;/Overdraw8.png" alt=""></p>
<p>优化点：</p>
<p>1、去掉window的默认背景</p>
<p>首先如果子 view 上设置背景的话，就要把根布局上背景去掉，同时去掉这个那个 activity 的背景。</p>
<pre><code>getWindow().setBackgroundDrawable(null);
</code></pre><p>在setContentView之后设置才能起作用        </p>
<p>2、去除多余的层级</p>
<p>首先是采用最简单的布局来搭建页面，不要过多的嵌套 LinearLayout 和 RelativeLayout，<br>然后使用 include、merge、viewstub 标签进行优化 view 层级。</p>
<p>具体可以查看以前的笔记 <a href="!--￼0--">Android ViewStub、include、merge 标签使用</a></p>
<p>这里三个标签主要是减少 view 层级，去除多余重复的 view 布局，以及 include 能复用一些相同的布局，ViewStub 是惰性控件占位作用，只有需要<br>的时候才去初始化 view。</p>
<p>3、使用透明图片或者 .9 格式图片</p>
<p>有时候图片是有边框的，这时候就可以用.9格式的图片设置背景。</p>
<p>4、和设计同学多沟通</p>
<p>这里就是实际开发中，要在效果和性能上达到一个合理比例，不能一味的为了效果导致性能下降。</p>
<h3 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h3><ul>
<li><a href="http://developer.android.com/intl/zh-cn/tools/performance/debug-gpu-overdraw/index.html#VisualizingOverdraw" target="_blank" rel="noopener">Debug GPU Overdraw Walkthrough</a></li>
<li><a href="http://hukai.me/android-performance-patterns/" target="_blank" rel="noopener">Android性能优化典范 - 第1季</a></li>
</ul>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://whiskeyfei.github.io/2016/03/24/tech/2016-3-24-node-string/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="無名">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/face.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="無名小子的杂货铺">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/03/24/tech/2016-3-24-node-string/" itemprop="url">String、StringBuffer、StringBuilder 纪录</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-03-24T12:26:35+09:00">2016-03-24</time>
            

            
            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/日常/" itemprop="url" rel="index"><span itemprop="name">日常</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>抽空总结了下 java 字符串相关知识点，平常使用最多的就是 String 类了，用于处理一些简单的字符串问题，比如：常量；当遇到相对复杂一些并且需要频繁拼接字符串时，就需要用到StringBuffer和StringBuilder了，以下都是自己平时的纪录方便查漏补缺，有些也摘自网上，这里做下整理，如果有侵犯您的内容，请通知我会及时修改。</p>
<h2 id="大概情况："><a href="#大概情况：" class="headerlink" title="大概情况："></a>大概情况：</h2><p>String 字符串常量</p>
<p>StringBuffer 字符串变量（线程安全）</p>
<p>StringBuilder 字符串变量（非线程安全）</p>
<h2 id="单个理解："><a href="#单个理解：" class="headerlink" title="单个理解："></a>单个理解：</h2><p>String:是不可改变的量，创建后不能在修改,多用于不经常改变的的常量，无频繁拼接操作的场景；</p>
<p>StringBuffer:</p>
<pre><code>* A modifiable {@link CharSequence sequence of characters} for use in creating

* strings, where all accesses are synchronized. This class has mostly been replaced

* by {@link StringBuilder} because this synchronization is rarely useful. This

* class is mainly used to interact with legacy APIs that expose it.
</code></pre><p>StringBuilder:</p>
<pre><code>* A modifiable {@link CharSequence sequence of characters} for use in creating

* strings. This class is intended as a direct replacement of

* {@link StringBuffer} for non-concurrent use; unlike {@code StringBuffer} this

* class is not synchronized.
</code></pre><p>看下两个的源码解释就很清楚了，两者都是可变字符串序列，基本用法和 String 一样，不同点就是 StringBuffer 是线程安全的，StringBuilder 是线程不安全的，其实就是同步和不同步的问题；</p>
<h3 id="插播一条如何理解线程安全和线程不安全。。"><a href="#插播一条如何理解线程安全和线程不安全。。" class="headerlink" title="插播一条如何理解线程安全和线程不安全。。"></a>插播一条如何理解线程安全和线程不安全。。</h3><p>比如一个 ArrayList 类，在添加一个元素的时候，它可能会有两步来完成：</p>
<p>1、在Items[Size] 的位置存放此元素；<br><br>2、增大 Size 的值；</p>
<p>在单线程运行的情况下，如果 Size = 0，添加一个元素后，此元素在位置 0，而且 Size=1；<br>而如果是在多线程情况下，比如有两个线程，线程 A 先将元素1存放在位置 0。但是此时 CPU 调度线程A暂停，线程 B 得到运行的机会。<br>线程B向此 ArrayList 添加元素2，因为此时 Size 仍然等于 0 （注意，我们假设的是添加一个元素是要两个步骤，而线程A仅仅完成了步骤1），<br>所以线程B也将元素存放在位置0。然后线程A和线程B都继续运行，都增加 Size 的值，结果Size都等于1。<br>那好，我们来看看 ArrayList 的情况，期望的元素应该有2个，而 实际元素是在0位置，造成丢失元素，故Size 等于 1。<br>这就是“线程不安全”了。<br>还让我联想到另外一个例子，就是银行存取钱过程，这里就不展开说了，大家想想对比一下实际情况就能明白。</p>
<p>赶紧扯回来String。。</p>
<h2 id="基本用法"><a href="#基本用法" class="headerlink" title="基本用法"></a>基本用法</h2><p>1、String</p>
<pre><code>String a = &quot;abc&quot;;
a.replace(&apos;a&apos;, &apos;d&apos;);
System.out.println(a);//结果abc，不改变
</code></pre><p>2、StringBuffer</p>
<p>StringBuffer对象的初始化不像String类的初始化一样，Java提供的有特殊的语法，而通常情况下一般使用构造方法进行初始化</p>
<pre><code>StringBuffer sb = new StringBuffer(&quot;123&quot;);
sb.append(&quot;123&quot;).append(&quot;123&quot;);
</code></pre><p>注：在使用 StringBuffer 的时候，需要注意不能想用 String 它一样使用</p>
<pre><code>StringBuffer result = null;  
结果警告：Null pointer access: The variable result can only be null at this location
</code></pre><p>3、StringBuilder</p>
<p>使用方式和 StringBuffer 一样，还有一些基本操作字符串函数的方法，append、deleteCharAt、insert等等，这里就不一一介绍如何使用了，看名字就知道怎么用了。</p>
<p>注：StringBuffer和String属于不同的类型，也不能直接进行强制类型转换，下面的代码都是错误的：</p>
<pre><code>StringBuffer s = “abc”;               //赋值类型不匹配
StringBuffer s = (StringBuffer)”abc”;    //不存在继承关系，无法进行强转
</code></pre><p>StringBuffer对象和String对象之间的互转的代码如下：</p>
<pre><code>String s = “abc”;
StringBuffer sb1 = new StringBuffer(“123”);
StringBuffer sb2 = new StringBuffer(s);   //String转换为StringBuffer
String s1 = sb1.toString();              //StringBuffer转换为String
</code></pre><h2 id="性能对比"><a href="#性能对比" class="headerlink" title="性能对比"></a>性能对比</h2><h3 id="String"><a href="#String" class="headerlink" title="String"></a>String</h3><p>String是不可变的对象, 因此每次对 String 类型进行改变的时候都等同于生成了一个新的 String 对象，然后将指针指向新的 String 对象，所以经常改变内容的字符串最好不要用 String ，因为每次生成对象都会对系统性能产生影响，特别当内存中无引用对象多了以后， JVM 的 GC 就会开始工作，会影响运行速度。</p>
<p>而 StringBuffer 类则结果就不一样，每次结果都会对 StringBuffer 对象本身进行操作，而不生成新的对象，再改变对象引用。<br>所以在一般情况下我们推荐使用 StringBuffer ，特别是字符串对象经常改变的情况下。而在某些特别情况下，<br>String 对象的字符串拼接其实是被 JVM 解释成了 StringBuffer 对象的拼接，所以这些时候 String 对象的速度并不会比 StringBuffer 对象慢，<br>而特别是以下的字符串对象生成中， String 效率是远要比 StringBuffer 快的：</p>
<pre><code>String S1 = “This is only a” + “ simple” + “ test”;
StringBuffer Sb = new StringBuilder(“This is only a”).append(“ simple”).append(“ test”);
你会很惊讶的发现，生成 String S1 对象的速度简直太快了，而这个时候 StringBuffer 居然速度上根本一点都不占优势。
其实这是 JVM 的一个把戏，在 JVM 眼里，这个
String S1 = “This is only a” + “ simple” + “test”; 其实就是：
String S1 = “This is only a simple test”;
所以当然不需要太多的时间了。但大家这里要注意的是，如果你的字符串是来自另外的 String 对象的话，速度就没那么快了，譬如：
String S2 = “This is only a”;
String S3 = “ simple”;
String S4 = “ test”;
String S1 = S2 +S3 + S4;

这时候 JVM 会规规矩矩的按照原来的方式去做
当然这种简单的方式我们也不会去选择 StringBuffer 来拼接了，用 String 就好了。
</code></pre><h3 id="StringBuffer"><a href="#StringBuffer" class="headerlink" title="StringBuffer"></a>StringBuffer</h3><p>在大部分情况下 StringBuffer &gt; String</p>
<p>Java.lang.StringBuffer线程安全的可变字符序列。一个类似于 String 的字符串缓冲区，但不能修改。<br>虽然在任意时间点上它都包含某种特定的字符序列，但通过某些方法调用可以改变该序列的长度和内容。</p>
<p>可将字符串缓冲区安全地用于多个线程。可以在必要时对这些方法进行同步，因此任意特定实例上的所有操作就好像是以串行顺序发生的，该顺序与所涉及的每个线程进行的方法调用顺序一致。<br>StringBuffer 上的主要操作是 append 和 insert 方法，可重载这些方法，以接受任意类型的数据。每个方法都能有效地将给定的数据转换成字符串，然后将该字符串的字符追加或插入到字符串缓冲区中。append 方法始终将这些字符添加到缓冲区的末端；而 insert 方法则在指定的点添加字符。</p>
<p>例如，如果 z 引用一个当前内容是“start”的字符串缓冲区对象，则此方法调用 z.append(“le”) 会使字符串缓冲区包含“startle”，而 z.insert(4, “le”) 将更改字符串缓冲区，使之包含“starlet”。</p>
<h3 id="StringBuilder"><a href="#StringBuilder" class="headerlink" title="StringBuilder"></a>StringBuilder</h3><p>在大部分情况下 StringBuilder &gt; StringBuffer</p>
<p>java.lang.StringBuilder一个可变的字符序列是5.0新增的。此类提供一个与 StringBuffer 兼容的 API，但不保证同步。<br>该类被设计用作 StringBuffer 的一个简易替换，用在字符串缓冲区被单个线程使用的时候（这种情况很普遍）。<br>如果可能，建议优先采用该类，因为在大多数实现中，它比 StringBuffer 要快，两者的方法基本相同。</p>
<h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><ul>
<li><a href="http://github.thinkingbar.com/how-to-use-string/" target="_blank" rel="noopener">浅谈 Java 字符串</a></li>
<li><a href="http://www.cnblogs.com/zwq194/archive/2012/06/26/2563567.html" target="_blank" rel="noopener">什么是线程安全和线程不安全</a></li>
</ul>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://whiskeyfei.github.io/2016/03/09/tech/2016-3-8-gson/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="無名">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/face.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="無名小子的杂货铺">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/03/09/tech/2016-3-8-gson/" itemprop="url">Gson库项目使用 - @SerializedName</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-03-09T15:11:17+09:00">2016-03-09</time>
            

            
            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/日常/" itemprop="url" rel="index"><span itemprop="name">日常</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          Gson日常使用
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2016/03/09/tech/2016-3-8-gson/">
              阅读全文 &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://whiskeyfei.github.io/2016/02/26/android/2015-11-10-github-project-collection/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="無名">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/face.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="無名小子的杂货铺">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/02/26/android/2015-11-10-github-project-collection/" itemprop="url">Github日常项目收集</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-02-26T10:21:51+09:00">2016-02-26</time>
            

            
            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/日常/" itemprop="url" rel="index"><span itemprop="name">日常</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Github日常项目收集整理，快速查看</p>
<p>1、<a href="https://github.com/lgvalle/Material-Animations" target="_blank" rel="noopener">Material-Animations</a>－Android过渡动画解释和例子.<br><br>2、<a href="https://github.com/Juude/awesome-android-performance" target="_blank" rel="noopener">awesome-android-performance</a>Android性能优化视频，文档以及工具<br><br>3、<a href="https://github.com/ZhaoKaiQiang/ParticleLayout" target="_blank" rel="noopener">ParticleLayout</a>左滑粒子效果<br><br>4、<a href="https://github.com/k0shk0sh/Fast-Access-Floating-Toolbox-" target="_blank" rel="noopener">Fast-Access-Floating-Toolbox</a>流动的工具箱，快速开发<br><br>5、<a href="源代码头安卓开发的媒体">HeadFirstAndroid</a><br><br>6、<a href="https://github.com/sasakicks/DraggableFlipView" target="_blank" rel="noopener">DraggableFlipView</a>一个摇曳旋转的效果<br><br>7、<a href="https://github.com/fengjundev/Android-Skin-Loader" target="_blank" rel="noopener">Android-Skin-Loader</a>一个通过动态加载本地皮肤包进行换肤的皮肤框架<br><br>7、<a href="https://github.com/plattysoft/Leonids" target="_blank" rel="noopener">Leonids</a>粒子效果<br><br>8、<a href="https://github.com/android-cjj/Android-MaterialRefreshLayout" target="_blank" rel="noopener">Android-MaterialRefreshLayout</a>一个强大的刷新控件<br><br>9、<a href="https://github.com/dengshiwei/SogoLoading" target="_blank" rel="noopener">SogoLoading</a>搜狗的loading<br><br>10、<a href="https://github.com/shwenzhang/AndResGuard" target="_blank" rel="noopener">AndResGuard</a>Android混淆工具<br><br>11、<a href="https://github.com/H07000223/FlycoPageIndicator" target="_blank" rel="noopener">FlycoPageIndicator</a> Viewpager 幻灯效果切换<br><br>12、<a href="https://github.com/xmuSistone/android-vertical-slide-view" target="_blank" rel="noopener">android-vertical-slide-view</a>仿照淘宝和聚美优品，在商品详情页，向上拖动时，可以加载下一页<br><br>13、<a href="https://github.com/antoniolg/androidmvp" target="_blank" rel="noopener">androidmvp-Android中的MVP</a>简单得AndroidMVP实例,<a href="http://www.jcodecraeer.com/a/anzhuokaifa/androidkaifa/2015/0227/2503.html" target="_blank" rel="noopener">更好理解－Android中的MVP</a><br><br>14、<a href="https://github.com/facebook/fresco" target="_blank" rel="noopener">fresco</a>Fresco图片加载使用<br><br>15、<a href="https://github.com/CtripMobile/DynamicAPK" target="_blank" rel="noopener">DynamicAPK</a>携程实现Android多apk插件化和动态加载，支持资源分包<br><br>16、<a href="https://github.com/ragnraok/StaticLayoutView" target="_blank" rel="noopener">TextView预渲染研究</a><br><br>17、<a href="https://github.com/baoyongzhang/Treasure" target="_blank" rel="noopener">SharePreferences包装库</a><br><br>18、<a href="https://github.com/ZhaoKaiQiang/KLog" target="_blank" rel="noopener">KLog</a>LogCat方便打印log<br><br>19、<a href="https://github.com/frankiesardo/LinearListView" target="_blank" rel="noopener">LinearListView</a>LinearListView快速滑动<br><br>20、<a href="https://github.com/jobbole/awesome-java-cn" target="_blank" rel="noopener">awesome-java-cn</a>Java资源大全中文版<br><br>21、<a href="https://github.com/lgvalle/Material-Animations.git" target="_blank" rel="noopener">Material-Animations</a>Android过渡动画解释和例子。<br><br>22、<a href="https://github.com/daimajia/AnimationEasingFunctions" target="_blank" rel="noopener">AnimationEasingFunctions</a>Android Animation Easing Functions. Let’s make animation more real!<br><br>23、<a href="https://github.com/z56402344/BaseAnimation.git" target="_blank" rel="noopener">BaseAnimation</a>动画合集<br><br>24、 <a href="https://github.com/square/leakcanary" target="_blank" rel="noopener">leakcanary</a>内存检测<br><br>25、<a href="https://github.com/frankiesardo/LinearListView" target="_blank" rel="noopener">LinearListView</a>LinearListView快速滑动<br><br>26、<a href="https://github.com/jobbole/awesome-java-cn" target="_blank" rel="noopener">awesome-java-cn</a>Java资源大全中文版<br><br>27、<a href="https://github.com/ogaclejapan/SmartTabLayout" target="_blank" rel="noopener">SmartTabLayout</a>快速切换tab<br>28、<a href="https://github.com/corerzhang/LabelView" target="_blank" rel="noopener">LabelView</a><br>29、<a href="https://github.com/futurice/android-best-practices/blob/master/translations/Chinese/README.cn.md" target="_blank" rel="noopener">android-best-practices</a>Android 开发最佳实践,记录一些规范等<br>30、<a href="https://github.com/hongyangAndroid/AndroidAutoLayout" target="_blank" rel="noopener">AndroidAutoLayout</a>Android屏幕适配方案，直接填写设计图上的像素尺寸即可完成适配，最大限度解决适配问题<br>31、<a href="https://github.com/greenrobot/EventBus" target="_blank" rel="noopener">EventBus</a><br>32、<a href="https://github.com/chenupt/SpringIndicator" target="_blank" rel="noopener">SpringIndicator水滴效果viewpager</a><br><br>33、<a href="https://android.googlesource.com/platform/frameworks/volley/" target="_blank" rel="noopener">volley官方源码</a><br><br>34、<a href="https://github.com/mcxiaoke/android-volley" target="_blank" rel="noopener">android-volley非官方</a><br><br>35、<a href="https://github.com/bboyfeiyu/android-tech-frontier/tree/master/androidweekly/%E4%B8%80%E7%A7%8D%E5%9C%A8android%E4%B8%AD%E5%AE%9E%E7%8E%B0MVP%E6%A8%A1%E5%BC%8F%E7%9A%84%E6%96%B0%E6%80%9D%E8%B7%AF" target="_blank" rel="noopener">一种在android中实现MVP模式的新思路</a><br><br>36、<a href="https://github.com/qibin0506/MVPro" target="_blank" rel="noopener">MVPro</a><br><br>37、<a href="https://github.com/yesidlazaro/BadgedImageview" target="_blank" rel="noopener">BadgedImageview</a>10 条提升 Android 性能的建议<br><br>38、<a href="https://github.com/DavidWangTM/DWCinemaAnimation-Android" target="_blank" rel="noopener">DWCinemaAnimation-Android</a><br><br>39、<a href="https://github.com/wangdan/AisenWeiBo.git" target="_blank" rel="noopener">Aisen微博-新浪微博的第三方客户端</a>，非常适合独立开发者学习<br><br>40、<a href="https://github.com/spongebobrf/BookdashAndroidApp" target="_blank" rel="noopener">BookdashAndroidApp</a><br><br>41、<a href="https://github.com/VerbalExpressions/JavaVerbalExpressions" target="_blank" rel="noopener">JavaVerbalExpressions</a>口语化正则表达式<br><br>42、<a href="https://github.com/hdodenhof/CircleImageView" target="_blank" rel="noopener">CircleImageView</a>圆形imageview<br><br>43、 <a href="https://github.com/TheFinestArtist/FinestWebView-Android" target="_blank" rel="noopener">FinestWebView-Android</a><br><br>44、<a href="https://github.com/liaohuqiu/android-Ultra-Pull-To-Refresh" target="_blank" rel="noopener">android-Ultra-Pull-To-Refresh</a>秋百万<br><br>45、<a href="http://www.jayfeng.com/2015/12/29/APK%E7%98%A6%E8%BA%AB%E5%AE%9E%E8%B7%B5/" target="_blank" rel="noopener">APK瘦身实践</a> 总结非常好<br><br>46、<a href="https://github.com/glomadrian/loading-balls" target="_blank" rel="noopener">loading-balls</a>loading<br><br>47、<a href="https://github.com/dongjunkun/DropDownMenu" target="_blank" rel="noopener">一个实用的多条件筛选菜单</a><br></p>
<h3 id="–未完待续，如果有丢失链接得请告知，谢谢！"><a href="#–未完待续，如果有丢失链接得请告知，谢谢！" class="headerlink" title="–未完待续，如果有丢失链接得请告知，谢谢！"></a>–未完待续，如果有丢失链接得请告知，谢谢！</h3>
          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://whiskeyfei.github.io/2015/12/28/book/2016-3-22-book1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="無名">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/face.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="無名小子的杂货铺">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2015/12/28/book/2016-3-22-book1/" itemprop="url">《突然就走到了西藏》读书笔记</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2015-12-28T21:55:26+09:00">2015-12-28</time>
            

            
            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/读书/" itemprop="url" rel="index"><span itemprop="name">读书</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>突然就走到了西藏 - 陈坤<br>无意中在微信阅读上读到了陈坤的《突然就走到了西藏》，陈坤－众所周知著名影视明星，大咖，偶然看到过行走的力量和海报，也偶然看到<br>陈坤开讲了。还记得金粉世家里面的金少爷，也就记得这个了，写到这里的时候，以前小时候的画面又浮现在了眼前，一家人围着电视，有时候也感动的<br>稀里哗啦，桥段简直太帅了，现在就记得一些片段了，回过神来，很早就想着自己没事的读读书，提升一下，总是心太浮躁，静不下来看不进去，<br>这不是自己工作以后读的第一本书，是第一个写读后感的书。写的像流水账，凑活着看，没准以后看了，还能乐呵乐呵，好吧，该进入主题了，总结了几个词：<br>迷茫、自省、成长、升华；</p>
<p>首先文章写的很平，没有那么晦涩难懂，花上一下午的时间就能读完，我读完最大的收获是给了我一些启示和正能量的东西，我相信大家读也是这样的，其实<br>有感受到一些就足够了，没有白读，我不去评论他写的是好是坏，这不重要，重要的是我们自己。</p>
<p>下面是一些在阅读当中比较有共鸣的地方，在这里拿出来，在细细品一品，对于这个时刻都在被遗忘的世界，有些记忆是值得怀念和书写的，我讲从这里开始。</p>
<h4>“别人眼中的什么样，并不重要，重要的是你自己想成为什么样，或者更确切地说，你想达成什么样”</h4>

<p>这段话引用文中的第二章，这句话在不同的时期有着不同的感受，我们都希望成为一个成功的人，外表光鲜亮丽，众人羡慕，可是又有多少人成为了那个想<br>成为的人，大部分都默默的过着自己的生活，有一天，问自己，你想自己成为什么人？或者成为一个别人眼里的什么人？很多时候，我都知道自己有多少能力，<br>能做多大的事情，可以并不会放弃努力向上。大学时候，有过迷茫，有过失意、也有过得意等等状态，但是有一个目标从来没有变过，那就是毕业去北京，这个<br>想法从选了专业，开始读大学就已经种下了，当时的想法很简单:”毕业不能回家，不能回家，得混出个样“，我想不只我这么想过，很多人都会有这样的想法，例如：回家不知道干什么，回家无聊，回家不自由，等等。</p>
<p>所以，那会虽然没有想过自己成为一个成功的人，但也想过成为一个北漂，结果我做到了，哈哈，成为一个合格的北漂，目前已<br>飘了两年多了，以后依然在飘。当达到当时的预期以后，又要思考，相对以后要成为一个什么样的人，一个成功的人？哈哈，其实，自己也没有太多的经历，看到<br>这句话想到的就这些，现在的状态不是太好，但也不坏，别人眼中的我，我也不知道是什么样子，作为个体，一定会和社会发生交流，和陌生人和朋友和同事，做到<br>不在乎被人的看法，目前我是很难做到，但这并不妨碍自己想成为那个想成为的人，利弊只有自己去衡量，所以，不多想，用心做人做事就好。</p>
<h4> “从一个自卑的孩子，到一个传播正面力量的男人，这条路，我走了近三十年的时间。”</h4>

<p>每次看到自卑就会想起高一那段时期，高一那会的自卑来源于成绩和环境，从小县城到市最好的学校，跨度有点大，可能是抻着了，抻了半年多，这可能对我来说，那是适应力还不是很好，高中才开始说普通话，哈哈，想想其实挺可爱，地方上都这样。那会成绩也不好，对老师对同学都不敢说话，相当自卑，现在来看，当时确实是自己不开窍，太注重这些排名，觉得好的排名才可以这样或那样，但是自己又属于悲观中乐观派，怎么感觉就有点精神分裂，其实也不是了，就是偶尔自我安慰自我开导一下，想想爸妈的不容易，就会有不断的动力，我就是那样一个人(这个以后再说)。</p>
<p>好在高二就好了，可能已经适应了环境，发现和自己想象的观点不一样，也就是现在认为的情况，也有自己的好朋友和死党，什么都说，不会有人因为你的成绩看不起你，只会因为你的做人看不起你。记得后来和班里第一名讨论学习，当时怎么想的，一个学渣和学霸在一起讨论学习，现在想想好可爱，后来在北京还和学霸吃过一次饭，学霸依然在上学，依然那么学霸，这就是我们选的的路，或者被选择的路，是路就要走，路很平我们走的很顺，路不平，我们学着改变，时间会磨平我们的菱角，但并不妨碍我们爱自己爱他人，可能注定我们一辈子都过平淡的日子，不会不会像明星一样去传播力量，但是，自己要努力成为你想成为的人，心存善念和感激，照样传播正能量。</p>
<h4> 不如坦诚地接受自己吧，接受有棱有角的我，也接受打磨得平滑的我。因为接受缺陷恰是追求完美的前提。况且，若是我都无法直视完整的自己，又如何以完整的真实的我示人呢？其实，我们是脆弱的，惧怕暴露出的自己得不到别人的肯定。而追根究底，我们是惧怕自己的，惧怕承认自己都无法驾驭的自己，惧怕接受自己都不喜欢的自己。也许我们都理应比想象中强大。</h4>

<p>引自文中12章，这段话很长，有很多的观点在里面，觉得这句话，是非常同意的，由衷的赞同，人无完人，像真理一样伴随我们，自己有时候很喜欢自己，觉得自己<br>很棒，一切事情处理的都很多，有时候又觉得自己怎么会这样，怎么做出这样或那样的事情，想两个人人在打架，一个真实的你一个心里的你。我有时候也会惧怕面对一件<br>不想面对的事情，但终究要面对，各种恐慌迎面而来，这样的事情却是又过，但是最后当你处理好这件事时，又会有释然的感觉，安慰自己，世界上没有过不去的坎，没有跨不过去的河，凡事总是要得到解决的。所以从惧怕到驾驭，这个过程可能很艰辛，但是我觉得自己应该强大自己的内心，想起一句话，忘记了原话是什么，大概意思是：“有时候不是能力不够，而是内心不够强大”，勇敢的去面对自己的，你可以的，加油！！</p>
<h4>“我经常说，我是悲观的乐观主义者。正因为我对未来不作过多假想，机会来的时候我觉得自己是那么的幸运！机会不来的时候，我也觉得理所应当，不会患得患失”</h4>

<p>一直觉得自己挺幸运的，从小到大运气不算太差，也不能说多好，虽然这么说，但是自己仍感谢家人感谢父母，没有他们提供的环境也不会有自己的起点。从小家里还算比较看的开的，爸妈不是那种管的严的人，不过我很乖，也没有叫过一次家长，学习凑活，但爸妈会鼓励我们三个孩子上学，小时候没有太多钱的概念，等后来上班才发现三个孩子的教育费用在那个年代能在里县城买好几套房了，所以更加的感恩父母，爸妈教给我最多的就是做人，学业上的她们也不懂，唯独提供的就是精力和钱，所以让我对家人更有一种特别想关怀的情节在里面，现在会特别宠妹妹，给她买买东西，买我们那个年代想买而没有勇气和钱去买的东西，也许会说，现在小孩都条件好了，不如说我愿意给她买，愿意让她受更好的教育，更健康快乐的成长。为什么觉得自己也有点悲观呢，好多事都是先考虑最坏的情况，各种情况都需要考虑清楚，总之，接受到的讯息总是需要各种考虑，确保不会出差错，也会这样要求妹妹。</p>
<p>机会不来的时候，我也觉得理所应当，不会患得患失，基本上不会相信有什么特别特别好机会降临到我身上，基本上和中五百万彩票似的，从小的教育让我不会去贪小便宜，不要钻漏子，不去闯祸，做一个有责任心的，对待朋友都需要以诚相待，特别是对感情，我承认自己不擅长，会钻牛角尖，会吃醋，不浪漫等等吧，各种无聊的词都会挂在我身上，虽然我知道这种情况或者叫感觉吧，也想努力去改变这种情况，但是战胜一个十几年形成的内心习惯，谈何容易。唯独需要的就是理解，上天眷恋我们让我们相遇，相爱。爱情不是她答应和你在一起就可以了，爱情是长久的，是需要陪伴的，是需要在内心深处时刻想着对方，为对方着想，在爱情这件事情上，我也会悲观着乐观，我在乎的可能你不在乎，你在乎的我必须在乎，这就是我，就在那里，在爱情里，我会倾尽所有付出，这也和从小的教育分不开的，我老是说自己out了，跟不上小鲜肉的思想了，确实我所理解的生活，还是那个从小印象里走过来的生活，对什么事情都很在乎，对她，我是一百个在乎，我不知道她知不知道我的心，可能不被理解，也可能不care，这都无所谓，我相信她会明白的会理解的，自己也不擅长表达，默默的写就好了。最后，自己也会像乐天派那样，往好了想，开导自己。我相信如果她是你要等的那个人，她会懂的并且会越来越爱你，所以我为什么不提前行使在一起的权利。共同迎接我们的未来，好吧就写到这里，写着写着就跑题了，这都不重要，要去找她聊天了！</p>
<p>未完待续–</p>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://whiskeyfei.github.io/2015/12/28/life/2015-12-28-bye2015hi2016/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="無名">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/face.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="無名小子的杂货铺">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2015/12/28/life/2015-12-28-bye2015hi2016/" itemprop="url">无名-我为自己代言</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2015-12-28T21:55:26+09:00">2015-12-28</time>
            

            
            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/生活/" itemprop="url" rel="index"><span itemprop="name">生活</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>今天看到，秋百万发起的 <a href="https://github.com/winter-fall/Bye2015Hi2016" target="_blank" rel="noopener">Bye2015Hi2016</a> ，也来尝试写一篇来记录过去的2015，起个什么名字呢，无名是微信昵称，就《无名-我为自己代言》吧，咱也来说说这一年，早在半年前6月份时候，也写过一篇类似这样的文章，好在列的目标基本上都实现了；</p>
<p>记得当时心情及其糟糕，自身的情况和小伙伴的离职等等吧，自己也很希望赶紧找回工作状态，不知怎么的就看到了 codekk 的 <a href="https://github.com/aosp-exchange-group/fuck-2014-flirt-2015" target="_blank" rel="noopener">fuck-2014-flirt-2015</a> ,看了其他人写的文章，让我触动很大，还有很多的人在奋斗在codeing，不断的受虐同时也在不断的进步，这时候正能量满满的，所以写了下面三个方面：</p>
<h2 id="收获"><a href="#收获" class="headerlink" title="收获"></a>收获</h2><p>说起来还是比较幸运的，毕业就签了某公司的offer，没有犹豫，从实习到正式入职,从旱鸭子到深水区,买了mac，<br>给妈妈买了手机，姐姐妹妹买了衣服鞋子，外甥买了玩具,没给父母丢脸，在北京好好混,从一个没有项目经验的，到第一个、第二个项目，确确实实学到了不少东西。</p>
<h2 id="不足"><a href="#不足" class="headerlink" title="不足"></a>不足</h2><p>心还是太浮躁，没有沉下心，技术点有些半知半解，浅尝辄止的现象，心情容易受工作影响，很放纵的做一些不想做的事情。</p>
<h2 id="展望"><a href="#展望" class="headerlink" title="展望"></a>展望</h2><p>身体最重要，一定要坚持锻炼，打球游泳不断，阅读书籍（技术非技术都要学习），充实自己，也许在未来就用到了，多回家看看陪陪父母，争取和父母出去玩一次（自己花钱）<br>给妹妹攒钱上大学，稳扎稳打，把技术点一一再过一遍，不会的不清楚的一定要吃透，只有这样才能进步，阅读一些开源框架，不在于多少，在于能够熟练使用,<br>抽空和朋友聚聚，记住出门在外靠朋友，扩展人脉</p>
<p>稀稀拉拉列了不少，现在看着都有些可笑，但是达到上面这样的目标自己也是付出了很多，包括精力时间也包括身体，我一直相信那句话“有付出总会有收获”，自己学的东西没准那一天就用上了，来公司的第一个年基本上都在在加班中度过的，一周6天，偶尔也7天，平常下班到家都11，12点，基本上没有运动，身板不太好的我那会体重只有55KG，然而在14年年末由于阑尾炎直接降到了50KG以下，庆幸慢性阑尾炎没有切掉，也没有和家里说，默默的打点滴一个星期，喝粥吃咸菜，就这样过了年，也完成了版本迭代。</p>
<p>就这样迎来了15年，现在回想起那会的状态，当时自己确实很难受，在租的房间里，一躺就是一天，该坚持该放弃，很明显，我选择了坚持，记住在最无助或者想不开想不懂的时候，别去钻牛角尖，和好兄弟去喝几杯就好了，期间特别爱喝酒，自己回家也会和几罐啤酒，可能自己想麻痹来放松自己，就当减压了吧，这个状态没有持续多久，慢慢也就正常了。</p>
<p>就这样开始去运动，去思考。。学这去改变自己，改变工作状态，改变生活态度。</p>
<h2 id="工作"><a href="#工作" class="headerlink" title="工作"></a>工作</h2><p>按部就班的版本迭代，开发新功能，工作之余，开始使用github，git，开始浏览一些大牛的技术博客，比如：代码家，秋百万，干活集中营，技术小黑屋，胡凯技术博客，codekk等等，开始学习一些框架思想，例如：MVP，MVVP等等，收藏技术贴，学习android性能优化，并能应用到实际项目当中，自己写小demo，使用git提交管理等等，记得第一次给别人PR还有一点的紧张，现在不会了，也fork参与了一些项目，最后说一点这段时间最大的收获吧，技术文章不在于收藏的多少，而在于你自己用心读了多少，不要以为收藏了就学会了，很多时候自己其实在欺骗自己，所以看到一篇想学的技术一定要吃透，应用到自己的实际开发中，这样才能提高。</p>
<h2 id="生活"><a href="#生活" class="headerlink" title="生活"></a>生活</h2><p>开始每周打羽毛球游泳，周末不再有那么多的加班，提高工作效率，平时读了一些小说，google work,重新读了左耳。。青春系列小说，也是够了。。十一时候和小伙伴去青海玩了一趟，感觉很爽，给人一种不一样的感觉，心灵仿佛也得到了洗礼，为那些骑行的人竖起大拇指。下半年刚开始回家看爸妈比较多，给爸妈换上了苹果，当然自己也换了，三件套就差pad了，啧啧，小妹16年高考，作为哥哥也要为妹妹准备点东西，真真切切觉的，温暖的家是你在外工作的后盾，家人身体健康是最大的财富。</p>
<h2 id="展望2016"><a href="#展望2016" class="headerlink" title="展望2016"></a>展望2016</h2><p>1、16年是重要的一年，技术当然要更上一层楼，毕竟靠技术吃饭嘛，还是要稳扎稳打，做好平时的技术积累，知其然知其所以然，多写博客，通过写东西来训练逻辑思维，找几本Android进阶的书，学习RxJava，做读书笔记，避免浅尝辄止，学习框架知识，编写自己的app，应用所学的知识。</p>
<p>2、身体很重要，没了身体＝都没了，所以还是要加强锻炼,健身打球游泳一定要坚持！！</p>
<p>3、找一个城市旅行旅行，这没的说，必须去！！(这个需求再16年开始就完成了，和她一起去的西安，以后还要去更多的地方！)</p>
<p>还是那句话，最重要一点：要好好做人，这个从大学我就一直坚信，做人，要从生活的点点滴滴做起，对家人对朋友一定要真心相待，问心无愧足已。</p>
<p><em>配图为10月份的青海湖，美极了，有机会还要去一次！<em></em></em></p>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://whiskeyfei.github.io/2015/11/10/android/2016-3-16-android-memory-demo/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="無名">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/face.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="無名小子的杂货铺">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2015/11/10/android/2016-3-16-android-memory-demo/" itemprop="url">Android 内存泄漏案例分析总结(Handler)</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2015-11-10T19:28:39+09:00">2015-11-10</time>
            

            
            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Android/" itemprop="url" rel="index"><span itemprop="name">Android</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>在Android开发开发中，操作不当很容易引起内存泄漏，这里主要记录下平时遇到问题，包括：静态变量(也包含集合)、非静态的内部类、Handler、监听器，尤其是 Handler<br>在开发中要格外的注意。</p>
<h2 id="1、静态变量"><a href="#1、静态变量" class="headerlink" title="1、静态变量"></a>1、静态变量</h2><p>public class LeakActivityDemo extends Activity{<br>  private static TextView mTextView;</p>
<p>  @Override<br>  protected void onCreate(Bundle savedInstanceState) {<br>    super.onCreate(savedInstanceState);<br>    setContentView(R.layout.activity_main);<br>    mTextView = new TextView(this);<br>    mTextView.setText(“demo”);<br>  }<br>}</p>
<p>我这里这是一个例子，一般开发不会这么写，上面的代码在 Activity 结束的时候，mTextView 一直持有 this 引用，<br>导致整个 Activity 无法回收</p>
<p>解决:方法在 Activity 生命周期 onDestroy 时将 mTextView 置空，或者尽量少使用到静态变量。<br>注意:在写代码时，要考虑到当前的变量是否持有当前 Activity 的引用，避免出现内存泄漏.</p>
<h2 id="2、非静态内部类"><a href="#2、非静态内部类" class="headerlink" title="2、非静态内部类"></a>2、非静态内部类</h2><h3 id="关于-Handler"><a href="#关于-Handler" class="headerlink" title="关于 Handler"></a>关于 Handler</h3><p>public class LeakActivity extends Activity{</p>
<p>  @Override<br>  protected void onCreate(Bundle savedInstanceState) {<br>    super.onCreate(savedInstanceState);<br>    setContentView(R.layout.activity_main);<br>    mHandler.postDelayed(new Runnable() {</p>
<pre><code>  @Override
  public void run() {

  }
}, 1);
</code></pre><p>  }</p>
<p>  //提示：This Handler class should be static or leaks might occur (com.mvp.view.LeakActivity.1)<br>  private Handler mHandler = new Handler() {<br>      @Override public void handleMessage(Message msg) {<br>          super.handleMessage(msg);<br>      }<br>  };<br>}</p>
<p>在 Android 开发中，我们一般使用 Handler 处理异步操作，通常我们的代码会像上面一样实现，但是上面的代码可能存在泄漏，<br>其实编译器已经提示了警告，建议使用 static 静态标示。</p>
<p>原因：</p>
<p>1、首先在 java 中，非静态内部类会或者内部类会持有外部对象的引用，而静态内部类不会持有外部类的引用；</p>
<p>2、和 Handler 机制有关，我们知道 Handler 和 Looper 是一起工作的，在一个 Activity 起来的时候，会帮我们创建一个<br>在主线程中使用的 Looper，用来处理所有的消息，当 Hanlder 初始化好以后，就会有一个消息发送到了 Looper 的消息队列中，<br>而这个消息则包含了当前 Handler 的引用，这就是内存泄露的原因；</p>
<p>解决:</p>
<p>1、使用静态内部类，如果在内部类中使用了 Activiy 则要使用 WeakReference(弱引用)，并且需要注意判空。</p>
<p>2、还有Hanlder要在生命周期 ondestroy 时，取消该 Handler 对象的 Messag 和 Runnable。</p>
<p>例如：removeCallbacks(Runnable r)、removeMessages(int what)、mHandler.removeCallbacksAndMessages(null);  </p>
<p>  private final MyHandler mHandler = new MyHandler(this);</p>
<p>  public static class MyHandler extends Handler {<br>      private final WeakReference<leakactivity> mWeakActivity;</leakactivity></p>
<pre><code>public MyHandler(LeakActivity context) {
  mWeakActivity = new WeakReference&lt;LeakActivity&gt;(context);
}

@Override public void handleMessage(Message msg) {
    super.handleMessage(msg);
    if (mWeakActivity.get() != null) {
      mWeakActivity.get().todo();
}
}
</code></pre><p>  }</p>
<p>  public void todo(){<br>    //todo<br>  }</p>
<h3 id="关于-Runnable"><a href="#关于-Runnable" class="headerlink" title="关于 Runnable"></a>关于 Runnable</h3><p>常常会这么写,会存在很大的内存泄露问题，内部类会持有外部对象的引用，如果我们 run 方法操作了 UI 等，或者 使用了 postDelayed 方法，很容易造成内存泄露问题。</p>
<pre><code>mHandler.post(new Runnable() {

    @Override
    public void run() {
      ..
    }
});
</code></pre><p>解决方法：使用静态的Runnable 和 WeakReference 来解决引用问题，使用 WeakReference 要注意判断，因为可能随时会被回收。</p>
<pre><code>private static final class ItemRunnble implements Runnable {

  private final WeakReference&lt;Item&gt; mWeakReference;

  public ProgressBarRunnble(Item f) {
    mWeakReference = new WeakReference&lt;Item&gt;(f);
  }

  @Override
  public void run() {
    Item item = mWeakReference.get();
    if (item != null) {
      ...
    }
  }
}

mHandler.post(new ItemRunnble(mItem))
</code></pre><h2 id="3、非静态内部类生成的静态变量"><a href="#3、非静态内部类生成的静态变量" class="headerlink" title="3、非静态内部类生成的静态变量"></a>3、非静态内部类生成的静态变量</h2><p>private static MyClass myClass;<br>  private class MyClass {</p>
<p>  }</p>
<p>..</p>
<p>myClass = new MyClass();   </p>
<p>这种是两者的综合体，只要是非静态内部类就会持有外部类的引用，如果外部类正好是 Activity ，那么会导致 Activity 无法回收；<br>处理方式和第一种很像，记得释放</p>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>静态变量最容易出现内存泄露，这些静态变量的生命周期和应用程序一致，所有的对象 Object 也不能被释放，<br>而集合类如果不 remove 添加的 Object，则会永远持有这些 Ojbect，也会导致无法释放。</p>
<p>监听器是一种使用方式，Android 中比较常见的是 Listener，Observer 等，<br>一般被监听者的生命周期要比监听者的生命周期长,当监听者本身不被使用，但又没有移除被监听者对其的引用时就会造成内存无法释放。</p>
<p>数据库在不使用时也没有关闭，那么这部分内存也就无法回收。</p>
<p>以下列举注意情况：</p>
 <ul><br>    <li>遵守生命周期，创建时创建，销毁时记得回收</li><br>    <li>Bitmip 和 Drawable 记得手动回收</li><br>    <li>减少静态变量的使用</li><br>    <li>自定义静态 Handler，和 Handler 回收</li><br>    <li>使用 Application Context,少使用 Activity Context</li><br>    <li>监听器不使用的时候记得释放</li><br>    <li>如果循环中使用较多临时变量，当不使用时及时释放</li><br>  </ul>

<h2 id="参考文章"><a href="#参考文章" class="headerlink" title="参考文章"></a>参考文章</h2><ul>
<li><a href="http://blog.csdn.net/zhuanglonghai/article/details/382330698" target="_blank" rel="noopener">Android App 内存泄露之Handler</a></li>
<li><a href="http://www.cnblogs.com/kissazi2/p/4121852.html" target="_blank" rel="noopener">【译】什么导致了Context泄露：Handler&amp;内部类</a></li>
<li><a href="http://droidyue.com/blog/2014/10/02/the-private-modifier-in-java/" target="_blank" rel="noopener">细话Java：”失效”的private修饰符</a></li>
<li><a href="http://www.androiddesignpatterns.com/2013/01/inner-class-handler-memory-leak.html" target="_blank" rel="noopener">How to Leak a Context: Handlers &amp; Inner Classes</a></li>
</ul>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://whiskeyfei.github.io/2015/11/10/android/2016-3-16-android-memory-tool/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="無名">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/face.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="無名小子的杂货铺">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2015/11/10/android/2016-3-16-android-memory-tool/" itemprop="url">Android 内存泄漏工具使用分析</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2015-11-10T19:28:39+09:00">2015-11-10</time>
            

            
            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Android/" itemprop="url" rel="index"><span itemprop="name">Android</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>最近的一次事件让我对 Android 开发中内存泄漏重视起来，平时只忙着开发新的功能，往往会忽略掉内存，cpu 等方面的使用情况，然而遇到 内存泄露或者ANR 问题就要彻底解决，由于Android设备规格不一，好一些的设备上不会出现问题，在一些低端的设备上就会出现各种问题，所以平时也要注意内存泄漏和 cpu 使用问题.</p>
<h2 id="内存泄漏-memory-leak"><a href="#内存泄漏-memory-leak" class="headerlink" title="内存泄漏(memory leak)"></a>内存泄漏(memory leak)</h2><p>A memory leak is a particular type of unintentional memory consumption by a computer program where the program fails to release memory when no longer needed. This condition is normally the result of a bug in a program that prevents it from freeing up memory that it no longer needs.This term has the potential to be confusing, since memory is not physically lost from the computer. Rather, memory is allocated to a program, and that program subsequently loses the ability to access it due to program logic flaws.</p>
<p>看不懂 pass。。。知道有这么回事就可以了</p>
<h2 id="初步判断"><a href="#初步判断" class="headerlink" title="初步判断"></a>初步判断</h2><h4 id="现象判断"><a href="#现象判断" class="headerlink" title="现象判断"></a>现象判断</h4><p>从现象入手，如果肉眼能看出页面卡顿，那肯定是有问题的，首先，尝试连续多次打开应用，观察界面卡顿,动画现象，并截取 log，观察 log 中的 GC 输出<br>日志，频繁打印GC日志,说明系统频繁触发GC来释放内存,初步推断可能存在内存泄漏，具体使用 DDMS HEAP 工具分析，以下有介绍</p>
<h4 id="内存命令分析"><a href="#内存命令分析" class="headerlink" title="内存命令分析"></a>内存命令分析</h4><p>前期可以通过一些 ADB 命令来简单查看下内存相关信息，做初步判断，有一次在项目中发现，开启／关闭某个模块，观察内存状态，竟然差了4M，果断修复。</p>
<h4 id="查看内存系统信息"><a href="#查看内存系统信息" class="headerlink" title="查看内存系统信息"></a>查看内存系统信息</h4><pre><code>adb shell cat proc/meminfo

➜  ~ adb shell cat proc/meminfo
MemTotal:        2052484 kB
MemFree:         1450748 kB
Buffers:           23212 kB
Cached:           342548 kB
SwapCached:            0 kB
Active:           338056 kB
Inactive:         203652 kB
Active(anon):     175960 kB
Inactive(anon):     6912 kB
Active(file):     162096 kB
Inactive(file):   196740 kB
..
</code></pre><h4 id="查看某一应用占用内存"><a href="#查看某一应用占用内存" class="headerlink" title="查看某一应用占用内存"></a>查看某一应用占用内存</h4><pre><code>adb shell dumpsys meminfo + packageName
e.g: adb shell dumpsys meminfo com.dangbeimarket

➜  ~ adb shell dumpsys meminfo com.whiskeyfei.tab
Applications Memory Usage (kB):
Uptime: 16199425 Realtime: 16199425

** MEMINFO in pid 14522 [com.whiskeyfei.tab] **
                   Pss  Private  Private  Swapped     Heap     Heap     Heap
                 Total    Dirty    Clean    Dirty     Size    Alloc     Free
                ------   ------   ------   ------   ------   ------   ------
  Native Heap     3474     3356        0        0    15475    15475    13196
  Dalvik Heap     2861     2788        0        0     3156     2561      595
 Dalvik Other      340      328        0        0
        Stack      104      104        0        0
    Other dev        5        0        4        0
     .so mmap     1162      144       48        0
    .apk mmap      220        0       16        0
    .ttf mmap      126        0       16        0
    .dex mmap     2648        0     2644        0
    code mmap     1220        0       88        0
   image mmap     1051      508        8        0
   Other mmap       23        4        0        0
      Unknown       89       88        0        0
        TOTAL    13323     7320     2824        0    18631    18036    13791        
</code></pre><h4 id="名词解释"><a href="#名词解释" class="headerlink" title="名词解释"></a>名词解释</h4><ul>
<li>Native Heap:    C++层内存分配。</li>
<li>Dalvik Heap:    Java层内存分配。</li>
<li>Ashmem :        匿名共享内存。</li>
<li>Stack:        栈区分配的内存。</li>
<li>so mmap:        C库代码占用。</li>
<li>jar mmap ：    Java文件占用。</li>
<li>apk mmap:     apk代码占用。</li>
<li>ttf mmap:     ttf文件占用。</li>
<li>dex mmap:     dex文件代码占用的内存。</li>
<li>Other mmap:    其他文件占用的内存</li>
</ul>
<p>我们要关注 Dalvik Heap 和 Native Heap 占用内存，在使用应用过程中实时查看内存信息状态，来初步判断是否内存使用不当。</p>
<h2 id="DDMS-HEAP-工具"><a href="#DDMS-HEAP-工具" class="headerlink" title="DDMS HEAP 工具"></a>DDMS HEAP 工具</h2><p>Android DDMS 内存监测工具 Heap，可以检测一个进程的内存变化，根据这个数值变化可以测试应用是否存在泄漏。<br>用过debug肯定会用 Heap 了，连接设备启动 app，点 debug 右边的按钮即可（Update Heap 鼠标放上去能看到）</p>
<p><img src="!--￼0--&gt;/mat01.png" alt=""></p>
<p>开始GC，然后就操作 app 观察，Heap视图中部有一个data object，即数据对象，也就是我们的程序中对象<br>正常情况下 Total Size 值都会稳定在一个范围内，反之如果则 data object 的 Total Size 值在每次GC后不会有明显的回落<br>随着操作次数的增多 Total Size 的值会越来越大，就证明可能存在内存泄漏，然后通过其他工具来找出泄漏的地方；</p>
<p><img src="!--￼1--&gt;/mat02.png" alt=""></p>
<h2 id="MAT-Memory-Analyzer-Tool"><a href="#MAT-Memory-Analyzer-Tool" class="headerlink" title="MAT( Memory Analyzer Tool )"></a>MAT( Memory Analyzer Tool )</h2><h3 id="定位问题"><a href="#定位问题" class="headerlink" title="定位问题"></a>定位问题</h3><p>通过 MAT 分析分析内存中占用比较大的对象   </p>
<p>MAT 是一个内存分析工具，在使用 DEAP 初步判断页面存在内存泄露后，使用 MAT 具体分析出哪写对象没有释放，导致了内存没有释放,关于MAT工具安装，请自行 Google，操作 app，例如：进入某个页面，退出，点击 Dump Hprof file 按钮，等一会会打开MAT视图，没有安装会生成一个文件；</p>
<p><img src="!--￼2--&gt;/mat03.png" alt=""></p>
<p>先观察“Leak suspects”，找出比较大的问题，通过 Dominator Tree 来查看 heap 中比较大的对象，也可以通过 Histogram 查找引用链;<br>Histogram 显示内存中每个对象的数量大小等信息，可以通过关键字来过滤</p>
<p><img src="!--￼3--&gt;/mat04.png" alt=""></p>
<p>例如：搜索 com.main.*;这样就能查找出这些包下面类引用情况，自行右键获得信息，通过提示找出有问题的类或对象，这样就可以找出内存占用多或者泄露的问题了；</p>
<p><img src="!--￼4--&gt;/mat05.png" alt="">  </p>
<p>本例子中查看 Dominator Tree -&gt; 右键某一条 -&gt; Path to GC Roots -&gt; exclude weak references</p>
<p><img src="!--￼5--&gt;/mat06.png" alt=""></p>
<p>Shallow Heap:对象本身的大小<br>Retained Heap:对象本身以及它持有的对象的内存总和</p>
<h3 id="验证"><a href="#验证" class="headerlink" title="验证"></a>验证</h3><p>通过查看 Histogram 内存中的类以及实例个数</p>
<p>###安装地址</p>
<p><a href="https://eclipse.org/mat/downloads.php" target="_blank" rel="noopener">MAT分析工具</a></p>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>总结了一些常用的工具，用来分析内存问题，以下是注意的步骤</p>
<ul>
<li>使用 ADB 命令初步分析内存</li>
<li>操作应用观察 HEAP update 查看当前内存变化，判断是否存在内存泄露</li>
<li>使用 MAT 来确定哪些代码引起了内存</li>
</ul>
<h2 id="如何避免"><a href="#如何避免" class="headerlink" title="如何避免"></a>如何避免</h2>  <ul><br>    <li>严格遵守生命周期，创建时创建，销毁时记得回收</li><br>    <li>Bitmip 和 Drawable 记得手动回收</li><br>    <li>静态对象引用 Context，导致对象无法释放，从而导致 Activity 无法释放</li><br>    <li>自定义静态 Handler，Runnable和 Handler 回收</li><br>    <li>使用 Application Context,少使用 Activity Context</li><br>  </ul>

<h2 id="参考文章"><a href="#参考文章" class="headerlink" title="参考文章"></a>参考文章</h2><ul>
<li><a href="http://my.oschina.net/u/2285044/blog/471027#OSC_h3_8" target="_blank" rel="noopener">Android内存泄漏分析实战</a></li>
<li><a href="http://www.cnblogs.com/kissazi2/p/4121852.html" target="_blank" rel="noopener">【译】什么导致了Context泄露：Handler&amp;内部类</a></li>
</ul>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://whiskeyfei.github.io/2015/11/10/android/2015-12-17-android-use-mvp2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="無名">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/face.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="無名小子的杂货铺">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2015/11/10/android/2015-12-17-android-use-mvp2/" itemprop="url">Android MVP 项目使用</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2015-11-10T19:28:39+09:00">2015-11-10</time>
            

            
            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Android/" itemprop="url" rel="index"><span itemprop="name">Android</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>前段时间学习 MVP 思想，在原来 <a href="https://github.com/liuling07/SimpleNews" target="_blank" rel="noopener">SimpleNews</a> 的基础上，修改了数据层和 UI 层的逻辑，使用 RxJava + MVP 组合方式，重构完成 <a href="https://github.com/whiskeyfei/SimpleNews.io" target="_blank" rel="noopener">SimpleNews.io</a>，目前还存在很多需要优化的地方，今天说说 SimpleNews.io 中用到的 MVP 部分。</p>
<p>参考 <a href="https://github.com/ribot/android-boilerplate" target="_blank" rel="noopener">android-boilerplate</a>, 添加 base Presenter 和 base View,以后所有的 Presenter 和 View 都需要继承 base ,这样在Presenter这一层才能使用统一方法回调接口，Model 暂时没有改变</p>
<h3 id="好处"><a href="#好处" class="headerlink" title="好处"></a>好处</h3><p>1、BasePresenter 将不同的view接口统一，不返回具体的view接口，通过方法操作，易于扩展;<br><br>2、view 接口的绑定统一化;</p>
<h3 id="基础使用"><a href="#基础使用" class="headerlink" title="基础使用"></a>基础使用</h3><p>定义View接口，暂时为空，子类可以扩展添加</p>
<pre><code>public interface IMVPBaseView {

}
</code></pre><p>定义Presenter接口</p>
<pre><code>public interface IMVPPresenter&lt;V extends IMVPBaseView&gt; {
    /**
     * 附加view回调接口
     *
     * @param mvpBaseView
     */
    void attachView(V mvpBaseView);

     /**
     * 释放view接口
     */
    void detachView();

}
</code></pre><p>BasePresenter实现</p>
<pre><code>public class BasePresenter&lt;T extends IMVPBaseView&gt; implements IMVPPresenter&lt;T&gt; {
    private T mMvpBaseView;

    @Override
    public void attachView(T mvpBaseView) {
        mMvpBaseView = mvpBaseView;
    }

    @Override
    public void detachView() {
        mMvpBaseView = null;
    }

    public T getMvpBaseView() {
        return mMvpBaseView;
    }

    /**
     * 是否附加view接口
     *
     * @return true mvpBaseView != null
     */
    public boolean isViewAttached() {
        return mMvpBaseView != null;
    }

    /**
     * 检查是否绑定view接口
     */
    public void checkViewAttached() {
        if (!isViewAttached())
            throw new RuntimeException(
                    &quot;Please call BasePresenter.attachView(IMVPBaseView) before&quot;
                            + &quot; requesting data to the Presenter&quot;);
    }
}
</code></pre><h3 id="项目使用"><a href="#项目使用" class="headerlink" title="项目使用"></a>项目使用</h3><p>首先看下我的项目结构:</p>
<p><img src="!--￼0--&gt;/assets/image/mvp.png" alt="mvp"></p>
<p>拿获取图片列表来举例，逻辑是这样：获取数据并解析结果给 view 展示。首先在 Fragment 中即 View 接口的实现类中<br>初始化我们的 Presenter 同时会初始化一个 Model，Fragment 调用 Presenter 中的方法，例如：loadImageList() 方法，接着去调用 Model中<br>的getImageList()方法,最后 Model 讲结果回调给 Presenter 层，Presenter 再回调给 View层，这样就完成了一个 MVP逻辑，以下是部分代码。</p>
<pre><code>//View
private IImagePresenter mImagePresenter;

@Override
public void onCreate(@Nullable Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    mImagePresenter = new ImagePresenter(this);
}

//Presenter
public class ImagePresenter extends BasePresenter&lt;IImageView&gt; implements IImagePresenter {
private static final String TAG = &quot;ImagePresenter&quot;;
private IImageModel mImageModel;
private Subscription mSubscription;

public ImagePresenter(IImageView imageView) {
    attachView(imageView);
    mImageModel = new ImageModel();
}

@Override
public void detachView() {
    super.detachView();
    if (mSubscription != null) {
        mSubscription.unsubscribe();
    }
}

@Override
public void loadImageList() {
    checkViewAttached();
    mSubscription = mImageModel.getImageList()
            .subscribeOn(Schedulers.io())
            .doOnSubscribe(new Action0() {
                @Override
                public void call() {
                    getMvpBaseView().showProgress();
                }
            })
            .observeOn(AndroidSchedulers.mainThread())
            .subscribe(new Observer&lt;List&lt;ImageBean&gt;&gt;() {
                @Override
                public void onCompleted() {
                    getMvpBaseView().hideProgress();
                }

                @Override
                public void onError(Throwable e) {
                    getMvpBaseView().hideProgress();
                    getMvpBaseView().showLoadFailMsg();
                }

                @Override
                public void onNext(List&lt;ImageBean&gt; list) {
                    getMvpBaseView().onSuccess(list);
                }
            });
    }
}

//Model
public class ImageModel implements IImageModel {

    private static final String TAG = &quot;ImageModel&quot;;

    public Observable&lt;List&lt;ImageBean&gt;&gt; getImageList() {
        return Observable.just(Urls.IMAGES_URL).flatMap(new Func1&lt;String, Observable&lt;List&lt;ImageBean&gt;&gt;&gt;() {
            @Override
            public Observable&lt;List&lt;ImageBean&gt;&gt; call(final String url) {
                //可以拼接url
                return Observable.create(new Observable.OnSubscribe&lt;List&lt;ImageBean&gt;&gt;() {

                    @Override
                    public void call(final Subscriber&lt;? super List&lt;ImageBean&gt;&gt; subscriber) {
                        OkHttpUtils.ResultCallback&lt;String&gt; loadNewsCallback = new OkHttpUtils.ResultCallback&lt;String&gt;() {
                            @Override
                            public void onSuccess(String response) {
                                Log.d(TAG, &quot;onSuccess response:&quot; + response);
                                if(StringUtils.isEmpty(response)){
                                    subscriber.onError(null);
                                    return;
                                }
                                Gson gson = new Gson();
                                List&lt;ImageBean&gt; iamgeBeanList = gson.fromJson(response, new TypeToken&lt;List&lt;ImageBean&gt;&gt;() {}.getType());
                                if(ListUtils.isEmpty(iamgeBeanList)){
                                    subscriber.onError(null);
                                    return;
                                }
                                subscriber.onNext(iamgeBeanList);
                                subscriber.onCompleted();
                            }

                            @Override
                            public void onFailure(Exception e) {
                                subscriber.onError(e);
                            }
                        };
                        OkHttpUtils.get(url, loadNewsCallback);
                    }
                });
            }
        });
    }
}
</code></pre><p>一个完整的MVP思想的使用就结束了，有没有觉得很简单，最初听名字以为是一个框架，学了才知道 MVP 是一种思想，开发多多使用，有问题欢迎留言，<br>也可以frok我的项目 <a href="https://github.com/whiskeyfei/SimpleNews.io" target="_blank" rel="noopener">SimpleNews.io</a> 一起学习。</p>
<h3 id="参考文章"><a href="#参考文章" class="headerlink" title="参考文章"></a>参考文章</h3><ul>
<li><a href="http://rocko.xyz/2015/11/07/MVVM_Android-CleanArchitecture/" target="_blank" rel="noopener">MVVM_Android-CleanArchitecture</a></li>
<li><a href="http://rocko.xyz/2015/02/06/Android%E4%B8%AD%E7%9A%84MVP/" target="_blank" rel="noopener">Android中的MVP</a></li>
<li><a href="http://toughcoder.net/blog/2015/11/29/understanding-android-mvp-pattern/" target="_blank" rel="noopener">说说Android的MVP模式</a>文章中有些话，摘自<a href="http://toughcoder.net/blog/2015/11/29/understanding-android-mvp-pattern/" target="_blank" rel="noopener">说说Android的MVP模式</a>一文</li>
<li><a href="https://github.com/ribot/android-boilerplate" target="_blank" rel="noopener">android-boilerplate</a></li>
</ul>
<h3 id="推荐"><a href="#推荐" class="headerlink" title="推荐"></a>推荐</h3><ul>
<li><a href="https://github.com/whiskeyfei/WFAndroidDemo/tree/master/WFAndroid_MVP" target="_blank" rel="noopener">WFAndroid_MVP</a> MVP Demo</li>
<li><a href="https://github.com/whiskeyfei/SimpleNews.io" target="_blank" rel="noopener">SimpleNews.io</a> 我的项目</li>
</ul>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/3/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/3/">3</a><span class="page-number current">4</span><a class="page-number" href="/page/5/">5</a><a class="extend next" rel="next" href="/page/5/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/uploads/face.jpg"
                alt="無名" />
            
              <p class="site-author-name" itemprop="name">無名</p>
              <p class="site-description motion-element" itemprop="description">记录学习、生活</p>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">47</span>
                    <span class="site-state-item-name">日志</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-categories">
                  <a href="/categories/index.html">
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">5</span>
                    <span class="site-state-item-name">分类</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-tags">
                  <a href="/tags/index.html">
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">31</span>
                    <span class="site-state-item-name">标签</span>
                  </a>
                </div>
              
            </nav>
          

          

          
            <div class="links-of-author motion-element">
              
                <span class="links-of-author-item">
                  <a href="https://github.com/whiskeyfei" target="_blank" title="GitHub"><i class="fa fa-fw fa-github"></i>GitHub</a>
                  
                </span>
              
                <span class="links-of-author-item">
                  <a href="mailto:whiskeyfei@gmail.com" target="_blank" title="E-Mail"><i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                  
                </span>
              
                <span class="links-of-author-item">
                  <a href="https://www.jianshu.com/u/fa272f63280a" target="_blank" title="简书"><i class="fa fa-fw fa-google"></i>简书</a>
                  
                </span>
              
                <span class="links-of-author-item">
                  <a href="https://twitter.com/whiskeyfei" target="_blank" title="Twitter"><i class="fa fa-fw fa-twitter"></i>Twitter</a>
                  
                </span>
              
            </div>
          

          
          

          
          

          
            
          
          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; 2014 &mdash; <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">無名</span>

  

  
</div>




  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/theme-next/hexo-theme-next">NexT.Pisces</a> v6.0.5</div>




        








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


























  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=6.0.5"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=6.0.5"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=6.0.5"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=6.0.5"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=6.0.5"></script>



  



	





  





  










  





  

  

  

  

  
  

  

  

  

  

</body>
</html>
