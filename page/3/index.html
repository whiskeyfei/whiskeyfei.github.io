<!DOCTYPE html>




<html class="theme-next pisces" lang="zh-CN">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">












<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />






















<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=6.0.5" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/uploads/apple-touch-icon-next.png?v=6.0.5">


  <link rel="icon" type="image/png" sizes="32x32" href="/uploads/favicon-32x32.png?v=6.0.5">


  <link rel="icon" type="image/png" sizes="16x16" href="/uploads/favicon-16x16.png?v=6.0.5">


  <link rel="mask-icon" href="/uploads/logo.svg?v=6.0.5" color="#222">









<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '6.0.5',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":false,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  
  <meta name="keywords" content="Android, Life" />


<meta name="description" content="记录学习、生活">
<meta property="og:type" content="website">
<meta property="og:title" content="無名小子的杂货铺">
<meta property="og:url" content="http://whiskeyfei.github.io/page/3/index.html">
<meta property="og:site_name" content="無名小子的杂货铺">
<meta property="og:description" content="记录学习、生活">
<meta property="og:locale" content="zh-CN">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="無名小子的杂货铺">
<meta name="twitter:description" content="记录学习、生活">






  <link rel="canonical" href="http://whiskeyfei.github.io/page/3/"/>



<script type="text/javascript" id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>
  <title>無名小子的杂货铺</title>
  









  <noscript>
  <style type="text/css">
    .use-motion .motion-element,
    .use-motion .brand,
    .use-motion .menu-item,
    .sidebar-inner,
    .use-motion .post-block,
    .use-motion .pagination,
    .use-motion .comments,
    .use-motion .post-header,
    .use-motion .post-body,
    .use-motion .collection-title { opacity: initial; }

    .use-motion .logo,
    .use-motion .site-title,
    .use-motion .site-subtitle {
      opacity: initial;
      top: initial;
    }

    .use-motion {
      .logo-line-before i { left: initial; }
      .logo-line-after i { right: initial; }
    }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-CN">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"> 

<div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">無名小子的杂货铺</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">越努力越幸运</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        
          
  <li class="menu-item menu-item-home">
    <a href="/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-home"></i> <br />首页</a>
</li>

      
        
        
          
  <li class="menu-item menu-item-about">
    <a href="/about/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-user"></i> <br />关于</a>
</li>

      
        
        
          
  <li class="menu-item menu-item-tags">
    <a href="/tags/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />标签</a>
</li>

      
        
        
          
  <li class="menu-item menu-item-categories">
    <a href="/categories/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-th"></i> <br />分类</a>
</li>

      
        
        
          
  <li class="menu-item menu-item-archives">
    <a href="/archives/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />归档</a>
</li>

      

      
    </ul>
  

  

  
</nav>


  



 </div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
            

          
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://whiskeyfei.github.io/2016/04/12/life/2016-3-31-travel/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="無名">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/face.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="無名小子的杂货铺">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/04/12/life/2016-3-31-travel/" itemprop="url">走过的路 看过的风景 - 青海</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-04-12T12:14:39+09:00">2016-04-12</time>
            

            
            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/生活/" itemprop="url" rel="index"><span itemprop="name">生活</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>《走过的路 看过的风景》这个题目估计是我从小到大写过最有诗意的题目了，上学时特别羡慕那些能写出好文章的人，能写出好文的人，肯定是在某个时刻积累了一定的阅读量并能作用到写作当中的人，记得以前作文都是刚刚及格，往事随风飘走吧…好了，下面肯定不是优美的文字了，哈哈，铺垫有点长。</p>
<p>下面是旅游攻略加图片欣赏了，拍了好些图片，这里只是抽一两张代表的景色供大家欣赏下，哈哈，写下最近一次旅行的地方－青海！ 一个充满景色的地方，每一个转弯都是一张风景，美…写的时候才发现，记忆有得时候真不靠谱，现在回想当时的情景，都有点遗忘了。</p>
<p>就当以后想回忆的时候，能找到这篇不算文的文</p>
<p>游玩路线参考某网的自由行，青海湖-茶卡盐湖-祁连-张掖七彩丹霞线路，其实计划的很好，但是到了就需要按实际情况来，那里值得玩就去哪。</p>
<p>另外需要注意一些高原反应，出发前最好别生病，带点高反的药以防万一，防晒霜什么的带一些</p>
<h2 id="Day1"><a href="#Day1" class="headerlink" title="Day1:"></a>Day1:</h2><p>10.2号西宁集合，这个印象太深刻了，本来说好和小伙伴一起到兰州在坐火车到西宁，结果坑了我，只好自己出发，不过心情依然激动，10.1号晚上10点飞机北京飞兰州， 差不多1点到的兰州，坐机场大巴到兰州火车站，然后凌晨4点的火车7点多到西宁，和司机师傅联系好，还算顺利，一夜没睡开始了第一天的行程。</p>
<p>后来和司机师傅几天相处下来觉得司机师傅人超好，师傅姓马，是一个特别自信开朗乐观的人，因为马师傅只吃清真，所以每次吃饭都先给我们找好地方吃，自己才吃。有一次记得附近没有清真的饭馆，师傅一直到下午4点才吃上饭，这个要点赞，年龄不大但是已经有了一个十三岁的儿子，瞬间被秒杀，哈哈，我们一行四个人，其中有一个是拼车的，那会以为是只有我们三个人，车上还是略显拥挤，以后去的话一定自己租车。</p>
<p>也欢迎去青海的小伙伴找马师傅包车，需要马师傅的联系方式的可以联系我</p>
<p>青海我们来了😁</p>
<p>早上还是有些冷的，饿了一夜也是够了，买个煮玉米开始啃。。。</p>
<p>西宁站<br><img src="!--￼0--&gt;/qh52.jpg" alt=""></p>
<h3 id="行程安排：塔尔寺-gt-青海湖-gt-黑马河"><a href="#行程安排：塔尔寺-gt-青海湖-gt-黑马河" class="headerlink" title="行程安排：塔尔寺 -&gt; 青海湖 -&gt; 黑马河"></a>行程安排：塔尔寺 -&gt; 青海湖 -&gt; 黑马河</h3><p>第一站是塔尔寺，天气不错，人也不少，买了票就进去了，大概转悠了1个多小时，地方其实没有多大，就是人多排队进殿看浪费时间。<br>看到好多人在磕头，都是五体投地的那种，都是些虔诚的人吧，听说要磕10w个，听完都吓一跳！！走了走，拍了几张照片就出来了。</p>
<p><img src="!--￼1--&gt;/qh44.jpg" alt=""></p>
<p><img src="!--￼2--&gt;/qh45.jpg" alt=""></p>
<p><img src="!--￼3--&gt;/qh46.jpg" alt=""></p>
<p>后来发现好多地方都有这个东西，忘了叫什么名字，大家都围着转，好多人见缝就插钱，嘴里念着保佑的话</p>
<p><img src="!--￼4--&gt;/qh48.jpg" alt=""></p>
<p>沿途4188，小憩了一下，跑一跑还是能感受到缺氧的</p>
<p><img src="!--￼5--&gt;/qh49.jpg" alt=""></p>
<p>直奔青海湖，我们没有从青海湖的正门进去，听司机师傅的从沿途进去了，便宜点，一人50好像是。</p>
<p>来张美景，个人觉得还不错<br><img src="!--￼6--&gt;/qh50.jpg" alt=""></p>
<p><img src="!--￼7--&gt;/qh10.jpg" alt=""></p>
<p>这张好有感觉，可以骑马<br><img src="!--￼8--&gt;/qh9.jpg" alt=""></p>
<p>傍晚去黑马河的时候好悲伤，因为定了宾馆在黑马河，到了才知道都是帐篷，最奇葩的是由于风大，帐篷都刮没了，折腾了好久才安排好住处，<br>只能凑活一晚上，第二天早上在黑马河看了日出，也算安慰了自己</p>
<p><img src="!--￼9--&gt;/qh02.jpg" alt=""></p>
<h2 id="Day2"><a href="#Day2" class="headerlink" title="Day2:"></a>Day2:</h2><h3 id="黑马河-gt-茶卡盐湖-gt-刚察草原-gt-祁连山"><a href="#黑马河-gt-茶卡盐湖-gt-刚察草原-gt-祁连山" class="headerlink" title="黑马河 -&gt; 茶卡盐湖 -&gt; 刚察草原 -&gt; 祁连山"></a>黑马河 -&gt; 茶卡盐湖 -&gt; 刚察草原 -&gt; 祁连山</h3><p>欣赏完黑马河的日出，吃了早饭就去茶卡盐湖了，路途还是挺远的，从黑马河到茶卡盐湖大约80公里，汽车走了2个多小时,<br>沿途都是牧区，因为是十月份，所以草已经不是绿色了，不过也是另一种风景</p>
<p><img src="!--￼10--&gt;/qh14.jpg" alt=""></p>
<p>人生第一次见盐湖，所以在盐湖玩了很久，各种拍照片，因为出发的早，人还不是特别多，茶卡盐湖的入口到湖边大约还有2公里，景区不大，后来人就多了，<br>到处都是租防水鞋子的，五块十块的，可以砍价，湖边都是各种盐雕，路边处处都是盐，小商贩都包装好盐块，据说加热后可以缓解酸疼，我还买一个，怪沉的，<br>回家嫌麻烦，也没有用。</p>
<p><img src="!--￼11--&gt;/qh11.jpg" alt=""></p>
<p>湖面平静如境，在这里拍照最好了，自带倒影效果，哈哈，那天天气也特别好，晒在身上特别舒服，长堤上的小火车已经停止运营，我们只好沿着长堤徒步走进去，湖面上到处都是坑或者洞，我们走到了最里面，往里面已经看不到人了</p>
<p><img src="!--￼12--&gt;/assets_header_image2.jpg" alt=""></p>
<p>来张自己的，可以远眺湖的尽头，去感受那份安静，心一下子静了下来，仿佛飘在了茶卡盐湖的上空，随风飘散<br><img src="!--￼13--&gt;/assets_header_image1.jpg" alt=""></p>
<p>刚察草原沿途风景，沿途好多经幡，五颜六色挥洒着双手，美不胜收，云朵从头上飘过<br><img src="!--￼14--&gt;/qh38.jpg" alt=""></p>
<p>沿途都是牧区，车开的很快，一转眼就是一种风景，蜿蜒的公路，两边山上能看到零零散散的牦牛，黑色的点点还有白珍珠，有时候还能遇到牧群，近距离接触牛羊<br><img src="!--￼15--&gt;/qh24.jpg" alt=""></p>
<p>下车欣赏风景，远处的雪山</p>
<p><img src="!--￼16--&gt;/qh23.jpg" alt=""></p>
<p>几天游玩中，海拔4120，山上下着雪<br><img src="!--￼17--&gt;/qh22.jpg" alt=""></p>
<h2 id="Day3"><a href="#Day3" class="headerlink" title="Day3:"></a>Day3:</h2><h3 id="卓尔山-gt-祁连大草原-gt-阿柔大寺-gt-张掖丹霞地质公园"><a href="#卓尔山-gt-祁连大草原-gt-阿柔大寺-gt-张掖丹霞地质公园" class="headerlink" title="卓尔山 -&gt; 祁连大草原 -&gt; 阿柔大寺-&gt; 张掖丹霞地质公园"></a>卓尔山 -&gt; 祁连大草原 -&gt; 阿柔大寺-&gt; 张掖丹霞地质公园</h3><p>今天主要都在路上，开车欣赏窗外的风景，听着司机师傅给我们讲卓尔山和祁连山的爱情故事，风也挺大，太阳也挺晒，涂了防晒霜，后来发现还是晒红了<br><img src="!--￼18--&gt;/qh25.jpg" alt=""></p>
<p>卓尔山风景区<br><img src="!--￼19--&gt;/qh51.jpg" alt=""></p>
<p>好大的羊群，司机师傅说大户人家啊<br><img src="!--￼20--&gt;/qh14.jpg" alt=""></p>
<p>阿柔大寺,人很少<br><img src="!--￼21--&gt;/qh26.jpg" alt=""></p>
<p><img src="!--￼22--&gt;/qh28.jpg" alt=""></p>
<p>沿途其实挺好玩的，有些地方大家会不约而同的停下来，在路边拍风景，我们这次碰上了一只牦牛掉到了水里<br><img src="!--￼23--&gt;/qh21.jpg" alt=""></p>
<p>爬上了一座小山，尽收眼底，眺望远处雪山</p>
<p><img src="!--￼24--&gt;/qh41.jpg" alt=""></p>
<p>张掖丹霞地质公园，这是这几天游玩中人最多的一个景点，我就不吐糟了，感受下一览众山小吧，好像也不小。。<br><img src="!--￼25--&gt;/qh29.jpg" alt=""></p>
<h2 id="Day4"><a href="#Day4" class="headerlink" title="Day4:"></a>Day4:</h2><h3 id="马蹄寺-gt-达坂山-gt-黑泉水库"><a href="#马蹄寺-gt-达坂山-gt-黑泉水库" class="headerlink" title="马蹄寺 -&gt; 达坂山 -&gt; 黑泉水库"></a>马蹄寺 -&gt; 达坂山 -&gt; 黑泉水库</h3><p>今天最后一天，真的不想回去了，还没有玩够，就要回去了</p>
<p><img src="!--￼26--&gt;/qh30.jpg" alt=""></p>
<p><img src="!--￼27--&gt;/qh31.jpg" alt=""></p>
<p><img src="!--￼28--&gt;/qh32.jpg" alt=""></p>
<p>小姑娘的家人各种拍，小姑娘也是太配合，哈哈<br><img src="!--￼29--&gt;/qh33.jpg" alt=""></p>
<p>好几个石窟，有的得排队好久，我们就选了几个人少的看了看，里面还不让拍照<br><img src="!--￼30--&gt;/qh34.jpg" alt=""></p>
<p><img src="!--￼31--&gt;/qh35.jpg" alt=""></p>
<p>返回县城的时候天气太好了，伸手就能摸到云朵，好大一块棉花糖</p>
<p><img src="!--￼32--&gt;/qh36.jpg" alt=""></p>
<p><img src="!--￼33--&gt;/qh37.jpg" alt=""></p>
<p>黑泉水库，不要脸的放了一张自己的照片</p>
<p><img src="!--￼34--&gt;/qh01.jpg" alt=""></p>
<p>粗略的写了这几天的游玩路线，其实挺匆忙的，不过很开心，体会了不同的风景，不同的地域风情，下次再聚！！<br>最后再次衷心的感谢一路上接待我们的马师傅，相当的好，让我们领略的高原的壮观，美丽与神奇。返回西宁马师傅送别我们，希望有机会还来青海，<br>青海，我们以后再相见！</p>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://whiskeyfei.github.io/2016/04/12/life/2016-11-18-github/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="無名">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/face.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="無名小子的杂货铺">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/04/12/life/2016-11-18-github/" itemprop="url">我的 Github</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-04-12T12:14:39+09:00">2016-04-12</time>
            

            
            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/生活/" itemprop="url" rel="index"><span itemprop="name">生活</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>欢迎看到题目后还能进来的同学，感谢你们，我是来推销代码的，也是求分析，作为一个苦逼开发，日夜想着自己能成长为一个能抗的人，不是扛揍，哈哈，大牛人人都想，不过还是要一步一个脚印走好。</p>
<p>自己平时会不间断的学习一些新的框架啊思想啊等等，然后提交到 Github上，但是关注的人很少，缺乏一定的交流，导致自己做的可能是没问题的，殊不知真的可能有问题，自己没有发现，只缘身在此山中啊。</p>
<p>为此今天就王婆卖瓜自卖自夸，给大家介绍一下自己的Github 内容，觉得还凑活能看的就关注下，哈哈，说实话没有多大希望，就当自己总结了，没关系。</p>
<p><img src="http://upload-images.jianshu.io/upload_images/877678-1a85f217faa10d0a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="Github"></p>
<p>1、<strong><a href="https://github.com/whiskeyfei/SimpleNews.io" target="_blank" rel="noopener">SimpleNews.io</a></strong><br>这是一个简单的新闻客户端,基于 Material Design + MVP + RxJava 结构搭建，在原来库的基础上尝试了一些新的编程思想,也算学以致用。由于数据请求逻辑较之前改动较大，所以单独拉出来进行更新，</p>
<p>这个 Demo 也会不间断更新，在 fork 这个项目之后，使用 MVP + Rxjava 来重新实现，优化了 UI 层级和数据逻辑，清除无用代码及无用的依赖库，合并一些基础工具类，包括使用 Gson、okHttp、RxJava。</p>
<p>后期会提取一些公共有助于提高开发效率的库。</p>
<p>2、<strong><a href="https://github.com/whiskeyfei/OpenWeatherRx" target="_blank" rel="noopener">OpenWeatherRx</a></strong></p>
<p>一个天气 Demo，使用 <a href="http://openweathermap.org/" target="_blank" rel="noopener">openweathermap</a> 免费提供的 api，来实现一个天气app，内部使用 mvp + rxjava + okhttp + gson + logger等，整合起来，目前还是初版，后期会继续完善，比如：loading、缓存机制、合并访问等。</p>
<p>欢迎大家提意见。</p>
<p>3、<strong><a href="https://github.com/whiskeyfei/Widget.io" target="_blank" rel="noopener">Widget.io</a></strong></p>
<p>记录自己仿写的控件</p>
<table>
<thead>
<tr>
<th>仿写控件</th>
<th>控件信息</th>
</tr>
</thead>
<tbody>
<tr>
<td> TabViewPager</td>
<td>禁止滑动 ViewPager</td>
</tr>
<tr>
<td> TabJustLayout</td>
<td>单独仿微信底部</td>
</tr>
<tr>
<td> BottomTabLayout</td>
<td>仿微信底部 ＋ ViewPager</td>
</tr>
<tr>
<td> CombinationView</td>
<td>FrameLayout Custom view</td>
</tr>
</tbody>
</table>
<p>4、<strong><a href="https://github.com/whiskeyfei/WFAndroidDemo" target="_blank" rel="noopener">WFAndroidDemo</a></strong></p>
<p>这里包含了很多的 Android 知识点练习 Demo，熟悉一些新东西，新控件新思想新框架等。</p>
<ul>
<li>学习使用RecyclerView <a href="https://github.com/whiskeyfei/WFAndroidDemo#android-recyclerview" target="_blank" rel="noopener">Android-RecyclerView</a></li>
<li>ListView、GridView、RecyclerView的Adapter适配器<br><a href="https://github.com/whiskeyfei/WFAndroidDemo#dpbaseadapter-android" target="_blank" rel="noopener">DPBaseAdapter-Android
</a></li>
<li>一个定时刷新的Service，近期更改为了使用Hanlder实现定时刷新，另外使用了EventBus来作为事件通讯 <a href="https://github.com/whiskeyfei/WFAndroidDemo#dpservicedemo" target="_blank" rel="noopener">DPServiceDemo</a></li>
<li>自定义Imageview，实现幻灯片效果 <a href="https://github.com/whiskeyfei/WFAndroidDemo#dpslidesimageview-android" target="_blank" rel="noopener">DPSlidesImageView-Android</a></li>
<li>FragmentBasics demo <a href="https://github.com/whiskeyfei/WFAndroidDemo#fragmentbasics" target="_blank" rel="noopener">FragmentBasics</a></li>
<li>学习使用MVP  <a href="https://github.com/whiskeyfei/WFAndroidDemo#wfandroid_mvp" target="_blank" rel="noopener">WFAndroid_MVP</a></li>
<li>学习使用Butter Knife进行注解绑定  <a href="https://github.com/whiskeyfei/WFAndroidDemo#wfbutterknifedemo" target="_blank" rel="noopener">WFButterKnifeDemo</a></li>
<li>学习使用Volley <a href="https://github.com/whiskeyfei/WFAndroidDemo#wfvolleydemo" target="_blank" rel="noopener">WFVolleyDemo</a></li>
<li>学习使用EventBus，自定义实现观察者模式 <a href="https://github.com/whiskeyfei/WFAndroidDemo#wpeventbusdemo" target="_blank" rel="noopener">WPEventBusDemo</a></li>
<li>Android布局标签Include,ViewStub使用 <a href="https://github.com/whiskeyfei/WFAndroidDemo#wplayoutimp" target="_blank" rel="noopener">WPLayoutImp</a></li>
<li>学习使用ORMLite框架，简单存储和读取 <a href="https://github.com/whiskeyfei/WFAndroidDemo#wpormlitedemo" target="_blank" rel="noopener">WPORMLiteDemo</a></li>
<li>学习使用RxJava <a href="https://github.com/whiskeyfei/WFAndroidDemo#wfrxjavademo" target="_blank" rel="noopener">WFRxJavaDemo</a></li>
<li>学习使用SharedPreferences,封装工具类 <a href="https://github.com/whiskeyfei/WFAndroidDemo#wfdatastoragedemo" target="_blank" rel="noopener">WFDataStorageDemo</a></li>
</ul>
<h5 id="先说这几个自己维护比较多的项目，也欢迎和大家多交流交流，如果你也和我一样或者想交流，可以评论留下你的-Github-链接，我会关注你的，希望每天的努力能改变些什么！！！"><a href="#先说这几个自己维护比较多的项目，也欢迎和大家多交流交流，如果你也和我一样或者想交流，可以评论留下你的-Github-链接，我会关注你的，希望每天的努力能改变些什么！！！" class="headerlink" title="先说这几个自己维护比较多的项目，也欢迎和大家多交流交流，如果你也和我一样或者想交流，可以评论留下你的 Github 链接，我会关注你的，希望每天的努力能改变些什么！！！"></a>先说这几个自己维护比较多的项目，也欢迎和大家多交流交流，如果你也和我一样或者想交流，可以评论留下你的 Github 链接，我会关注你的，希望每天的努力能改变些什么！！！</h5>
          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://whiskeyfei.github.io/2016/04/12/life/2016-11-08-cooperate/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="無名">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/face.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="無名小子的杂货铺">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/04/12/life/2016-11-08-cooperate/" itemprop="url">对接那点事</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-04-12T12:14:39+09:00">2016-04-12</time>
            

            
            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/生活/" itemprop="url" rel="index"><span itemprop="name">生活</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="谈对接"><a href="#谈对接" class="headerlink" title="谈对接"></a>谈对接</h3><p>说起对接，开发起来哪哪都是对接，自己逻辑对接，别人模块对接，后台接口对接等等，凡事出现功能交集，或者需要别的提供的接口时都会产生对接情况。</p>
<p>我们都事故期望对接完美，什么都不缺，可往往是以愿违，或多或少的问题总是阻碍开发的进度，不仅如此还有可能陷入纠结和无语当中，今天来说说对接那点事，也是自己在工作中的一些体会，做个记录，希望有所帮助。</p>
<h3 id="故事"><a href="#故事" class="headerlink" title="故事"></a>故事</h3><p>之前接手一个模块，数据部分设计到好几个模块，其实就是好几个人，操作数据的人多，所以出问题的地方就很多，不出问题还好，一出问题就各种推……总之很无语，所以就思考，如何在出问题的情况下，迅速排查出问题原因，用事实说话，这样于人于己都方便。</p>
<h3 id="明确细节"><a href="#明确细节" class="headerlink" title="明确细节"></a>明确细节</h3><p>1、明确功能<br>    在开始做需求功能的时，一定要确定自己开发所需的数据、UI资源是否能按时提供或者给出的格式，方便预留。</p>
<p>2、明确出错<br>    考虑各种出错的情况，明确哪些出错是自己的，哪些是其他模块的。</p>
<p>3、明确定位<br>    在关键的位置添加log，根据响应的出错等情况，区分类型，定位到具体模块。</p>
<h3 id="如何避免"><a href="#如何避免" class="headerlink" title="如何避免"></a>如何避免</h3><ul>
<li>自己的模块尽量提供最简单的用法，谁用都方便；</li>
<li>和测试提前沟通，不同人理解产品文档可能存在偏差，注意就好；</li>
<li>确保测试环境配置没有问题，一些需要各种条件才能正常测试；</li>
<li>给自己的模块做各种case测试；</li>
</ul>
<h3 id="如何排查"><a href="#如何排查" class="headerlink" title="如何排查"></a>如何排查</h3><ul>
<li>根据页面显示来判断；</li>
<li>查看是不是自己模块的问题；</li>
<li>然后根据关键log标识排查接口问题；</li>
</ul>
<h3 id="说到最后"><a href="#说到最后" class="headerlink" title="说到最后"></a>说到最后</h3><p>我所说的都是一些小的对接，不过还是想开开心心高效的工作，另外说点大的，跨组、跨部门、乃至跨公司合作都类似，只是复杂程度不同，针对双方列出来的功能一定要逐一核对，明确功能。</p>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://whiskeyfei.github.io/2016/03/31/book/2016-8-22-codereview/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="無名">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/face.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="無名小子的杂货铺">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/03/31/book/2016-8-22-codereview/" itemprop="url">近况</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-03-31T10:33:43+09:00">2016-03-31</time>
            

            
            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/生活/" itemprop="url" rel="index"><span itemprop="name">生活</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>写在前面:<br>    好长时间没有写总结了，距离上一次写也有四个月时间了，这段时间忙忙碌碌的，心也静不下来，没写东西，对 markdown 使用都有点陌生了，实在是不应该，今天恢复写点总结，谈不上文章，也就一些点滴记录吧</p>
<p>谈几个事情：Code Review、思考工作、运动</p>
<h3 id="Code-Review"><a href="#Code-Review" class="headerlink" title="Code Review"></a>Code Review</h3><p>最近也在工作中遇到 Code Review 问题，平时的开发其实都没有完全做到 Review 这一步，很多时候写完也就直接提交代码了，这在我看来是有问题的，有句古诗说的好：”只缘身在此山中“，可能我们身在问题中，却无法看到问题背后的问题，所以这段时间在代码的 Review 上做了很多，对于相同代码都在用，那就提成工具类等形式，一处维护，可是还会看到一些现象，别人才不用你的，就算代码一样也要在 copy 一份，放在自己的模块里，在我看来这就是问题，虽然各有分工，但是应尽量保持统一，以后维护也好维护，能复用就复用。</p>
<h4 id="以上呢也算个人唠叨，接下来想说说如何-Review"><a href="#以上呢也算个人唠叨，接下来想说说如何-Review" class="headerlink" title="以上呢也算个人唠叨，接下来想说说如何 Review"></a>以上呢也算个人唠叨，接下来想说说如何 Review</h4><p>1、代码风格<br><br>    首先最容易的就是代码格式风格问题，每个团队应该有一个统一的代码格式风格，比如：变量方法函数命名、文件结构、代码缩进等，要像强迫症一样，看见不符合规范的就要改掉，这对阅读代码理解是有帮助的，看别人代码就跟看自己写的一样；<br></p>
<p>2、重复代码<br><br>    避免引用重复代码，有相同功能的做个小重构，抽成工具类等方式，最好能将现在已有工具类等弄成文档，定时更新，也要在做需求之前考虑每个技术点如何实现，以及实现起来的难度，如果有现成的轮子，自己就不用重写了；<br></p>
<p>3、考虑效率<br><br>    就是性能问题，主要是针对操作一些比较容易出现内存泄露问题的模块，比如频繁操作 Bitmap、各种循环嵌套等，要注意使用的规范；<br></p>
<p>4、可测试、可扩展<br><br>    针对各种出错 case 自己要做测试，防止出现测试不到位情况，考虑可扩展性，如果自己的逻辑过多，可以提供扩展接口让别人重写，来实现自己的部分逻辑，这样也可以避免重复代码；<br></p>
<p>5、小到大<br><br>    模块越写越大，而且还有很多页面有相同的逻辑，这是好就要考虑在整体上做一次大重构，提成基类等方式，数据和 UI 分开等等；<br></p>
<p>Review 先说这么多，平时多多总结，实际情况还得多多衡量关系；</p>
<h3 id="思考工作"><a href="#思考工作" class="headerlink" title="思考工作"></a>思考工作</h3><p>不管是生活还是工作，都应该学会思考，思考什么样的方式能使我们生活更加愉快，什么样的方式能提高工作效率，最近最这两点有很深的体会，我们会受到来自各个方面的影响，生活不开心，工作可能没有了拼劲，等等。我的观点很简单，简单快乐的生活，高效的工作。<br></p>
<p>说工作，比如：自己负责的模块，不仅要 hold 住，还要去思考怎样才能简化模块逻辑，和增强可扩展性，减少维护成本，讲一些比较琐碎看似无规律的事情，形成一个小的系统，尽量解耦，保持内部的稳定性，同时又支持扩展。<br></p>
<h3 id="运动"><a href="#运动" class="headerlink" title="运动"></a>运动</h3><p>俗话说身体是革命的本钱，16年状况还可以，脚伤半年多也算是好的差不多了，没事就去锻炼吧，快走，慢跑，健身房，游泳走起，别让以后更后悔。</p>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://whiskeyfei.github.io/2016/03/30/life/2016-3-29-note-life/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="無名">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/face.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="無名小子的杂货铺">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/03/30/life/2016-3-29-note-life/" itemprop="url">记录点滴</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-03-30T18:02:21+09:00">2016-03-30</time>
            

            
            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/生活/" itemprop="url" rel="index"><span itemprop="name">生活</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>写在前面：开一篇文章来记录平时自己的感悟，想法看法，日常流水账，吐槽，分享等等等等吧。写到这里时想起了生活启示录，电视剧倒没看过，就是<br>想到了。。记录等于开始，开始意味着想要更好，那就开始记录吧！</p>
<h3 id="2016-3-29"><a href="#2016-3-29" class="headerlink" title="2016.3.29"></a>2016.3.29</h3><p>最近看过一篇关于知识管理的文章，大概意思就是知识是散的，单一的知识是无法发挥作用的，必须对其进行整理和其他知识产生<br>关联或者连结，才能发挥出知识的作用。绝大多数人停留在收集知识的过程，很少人再去查看或者提炼。<br>其实，自己也是这种状况，看到好的文章或推荐，直接收集到印象笔记中，想着过几天再好看，然后就<br>没有然后了，不了了之了，有时候打开那些收藏的文章，都有一种惭愧的感觉，所以这是我的不足，迫切需要得到改善。</p>
<p>很多厉害的人，在面对别人提出的问题，都能面面俱到的回答，而不是只限于某个领域的知识，我想再那个人的知识储备中，各个节点已经形成了连结，<br>对知识做到了了如指掌，其实就是融会贯通。</p>
<p>怎么改善目前我的状态呢？<br>很简单，看到好文章，马上读，不在于多多少篇，要在乎阅读的质量，然后提炼主要内容，做笔记，就跟小时候读阅读理解似的。</p>
<p>所以最近一个多月，一有时间就会整理以前的笔记，发现好多半知半解的东西，然后提炼出一个题目，写成博客或者语录，刚开始的时候，确实很慢，<br>敲了一段字以后呢，就感觉写的狗屁不是，然后删、改。。。知道自己看着满意才可以，后来过几天还要再重新 review 以前的总结，能发现好多错误，<br>太可怕了，就跟写代码一样，看一起写的代码真是狗屎。。然后再修改再提炼。这样做，给我的感觉就是，写作的思维能力是可以被锻炼出来的，尽量的精简表达，不要说过多和无关主题的废话。。免得浪费别人阅读的时间。</p>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://whiskeyfei.github.io/2016/03/25/android/2016-11-06-rxjava-demo/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="無名">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/face.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="無名小子的杂货铺">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/03/25/android/2016-11-06-rxjava-demo/" itemprop="url">RxJava语法练习</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-03-25T11:59:01+09:00">2016-03-25</time>
            

            
            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Android/" itemprop="url" rel="index"><span itemprop="name">Android</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>很早之前就听Rxjava 多么神奇，各种评论都有，说学习坡度高，难等等，于是亲自上手试试，说实话刚开始看到这些用法立马就蒙比了，和我们之前的方式不太一样，理解起来还是挺别扭的，之后找了一篇<a href="http://gank.io/post/560e15be2dca930e00da1083" target="_blank" rel="noopener">给 Android 开发者的 RxJava 详解</a> 抛物线的，好好研究上几天，认真理解每个例子并自己动手敲出来，也就慢慢能体会到 rxjava 的好用之处了。</p>
<p>内容包含如下：<br> 如何获取，观察者模式，基本语法，操作符使用，线程控制使用</p>
<blockquote>
<p>注意：以下部分内容部分段落部分引用自<a href="http://gank.io/post/560e15be2dca930e00da1083" target="_blank" rel="noopener">给 Android 开发者的 RxJava 详解</a>，如有冒犯之处，我会及时删除。</p>
</blockquote>
<h2 id="一、如何获取"><a href="#一、如何获取" class="headerlink" title="一、如何获取"></a>一、如何获取</h2><p><strong><a href="https://github.com/ReactiveX/RxJava" target="_blank" rel="noopener">RxJava</a></strong><br><strong><a href="https://github.com/ReactiveX/RxAndroid" target="_blank" rel="noopener">RxAndroid</a></strong><br>在项目中引入依赖就好了，我这里用的不是最新版本</p>
<pre><code>compile &apos;io.reactivex:rxandroid:1.1.0&apos;
compile &apos;io.reactivex:rxjava:1.1.0&apos;
</code></pre><h2 id="二、观察者模式"><a href="#二、观察者模式" class="headerlink" title="二、观察者模式"></a>二、观察者模式</h2><p>这个模式基本上都听过，使用过的就可以直接略过了。</p>
<p>先说下设计模式中的观察者模式：</p>
<p>当对象间存在一对多关系时，则使用观察者模式（Observer Pattern） 比如，当一个对象被修改时，则会自动通知它的依赖对象，观察者模式属于行为型模式。</p>
<p>使用在java中实现观察者模式需要用到java.util包中提供的Observable类和Observer接口，java已经给我们提供好类使用。</p>
<p>Observable可以查看java源码，下面是Observer接口：</p>
<pre><code>public interface Observer {
    void update(Observable observable, Object data);
}
</code></pre><p>举个简单例子：</p>
<p>古董被观察，观察者为people用来观察古董价钱波动<br>被观察者：</p>
<pre><code>public class Antique extends Observable {
    private float mPrice;// 价钱

    public Antique(float price) {
        this.mPrice = price;
    }

    public float getPrice() {
        return this.mPrice;
    }

    public void setPrice(float price) {
        super.setChanged();
        super.notifyObservers(price);// 价格被改变
        this.mPrice = price;
    }

    public String toString() {
        return &quot;古董价格为：&quot; + this.mPrice;
    }
}
</code></pre><p> 观察者实现Observer接口，重写update方法即可</p>
<pre><code>public class People implements Observer{

    private String name;

    public People(String name) {
        this.name = name;
    }

    @Override
    public void update(Observable observable, Object data) {
        Log.e(&quot;&quot;,&quot;People update() -&gt; update name:&quot;+ this.name + &quot;,price:&quot;+ ((Float)data).floatValue());
    }

}
</code></pre><p>   主函数调用</p>
<pre><code>Antique house = new Antique(1222f);
People p1 = new People(&quot;p1&quot;);
People p2 = new People(&quot;p2&quot;);
People p3 = new People(&quot;p3&quot;);
house.addObserver(p1);
house.addObserver(p2);
house.addObserver(p3);
Log.e(&quot;&quot;, house+&quot;&quot;); // 输出价格
house.setPrice(111f);
Log.e(&quot;&quot;, house+&quot;&quot;); // 输出价格
</code></pre><p>这样只要价格发生变化，就会通知所有订阅的人，也就实现了简单的观察者模式。</p>
<h4 id="RxJava-中的观察者模式"><a href="#RxJava-中的观察者模式" class="headerlink" title="RxJava 中的观察者模式"></a>RxJava 中的观察者模式</h4><p>观察者：Observer;<br><br>被观察者：Observable;<br><br>订阅：subscribe();<br></p>
<h5 id="观察者"><a href="#观察者" class="headerlink" title="观察者"></a>观察者</h5><p>Observer即为观察者，处理事件发生后逻辑，如古董例子，价格改变后，需要updae信息，不过 Rxjava 这里多了几种处理情况，onCompleted(),onError(),onNext(),具体用法看 dmeo 就可以了。</p>
<h5 id="被观察者"><a href="#被观察者" class="headerlink" title="被观察者"></a>被观察者</h5><p>Observable 即被观察者，它决定什么时候触发事件以及触发怎样的事件。可以使用create()、just(T…)、from(T[])或from(Iterable&lt;? extends T&gt;)来创建一个 Observable ，并为它定义事件触发规则。</p>
<h5 id="订阅"><a href="#订阅" class="headerlink" title="订阅"></a>订阅</h5><p>创建了Observable和Observer之后，再用subscribe()方法将它们联结起来。</p>
<h2 id="三、基本语法"><a href="#三、基本语法" class="headerlink" title="三、基本语法"></a>三、基本语法</h2><p>1、打印 Hello World</p>
<pre><code>Observable.create(new Observable.OnSubscribe&lt;String&gt;() {

     @Override
     public void call(Subscriber&lt;? super String&gt; subscriber) {
         subscriber.onNext(&quot;Hello World&quot;);
         subscriber.onCompleted();
     }
 }).subscribe(new Observer&lt;String&gt;() {
     @Override
     public void onCompleted() {
         System.out.println(&quot;onCompleted:&quot;);
     }

     @Override
     public void onError(Throwable e) {
         System.out.println(&quot;onError e:&quot;+e);
     }

     @Override
     public void onNext(String s) {
         System.out.println(&quot;onNext s:&quot;+s);
     }
 });

//还可以这么写

 Observable.just(&quot;hello World&quot;).subscribe(new Action1&lt;String&gt;() {
     @Override
     public void call(String s) {
         System.out.println(&quot;call s:&quot;+s);
     }
 });
</code></pre><p>2、将字符串数组 names 中的所有字符串依次打印出来</p>
<pre><code> String[] names = {&quot;111&quot;, &quot;222&quot;, &quot;333&quot;};
 Observable.from(names).subscribe(new Action1&lt;String&gt;() {
     @Override
     public void call(String name) {
         System.out.println(&quot;test1 name:&quot; + name);
     }
 });
// 输出
test1 name:111
test1 name:222
test1 name:333

另一种写法

 @Test
 public void test4(){
     //1:被观察者
     String [] names ={&quot;111&quot;,&quot;222&quot;,&quot;333&quot;};
     Observable observable = Observable.from(names);

     //2:观察者
     Action1 onNextAction = new Action1&lt;String&gt;() {
         @Override
         public void call(String s) {
             System.out.println(&quot;test4 call&quot;+s);
         }
     };

     Action1&lt;Throwable&gt; onErrorAction = new Action1&lt;Throwable&gt;() {
         @Override
         public void call(Throwable e) {
             System.out.println(&quot;test4 call e:&quot;+e);
       }
     };

     Action0 onCompletedAction = new Action0() {
         @Override
         public void call() {
             System.out.println(&quot;test4 call onCompletedAction&quot;);
         }
     };
     //3:订阅:被观察者被观察者订阅
     observable.subscribe(onNextAction, onErrorAction, onCompletedAction);
 }
</code></pre><p>3、just 将传入的参数依次打印</p>
<pre><code>@Test
public void test2(){
    Observable.just(&quot;1&quot;,&quot;2&quot;,&quot;3&quot;).subscribe(new Observer&lt;String&gt;() {
        @Override
        public void onCompleted() {
            System.out.println(&quot;test2 onCompleted&quot;);
        }

        @Override
        public void onError(Throwable e) {
            System.out.println(&quot;test2 e:&quot;+e);
        }

        @Override
        public void onNext(String s) {
            System.out.println(&quot;onNext:&quot;+s);
        }
    });
}
  //    onNext:1
 //    onNext:2
//    onNext:3
//    test2 onCompleted
</code></pre><p>4、 循环输出list</p>
<pre><code>@Test
public void test5(){
    Observable.from(Data.getCats().get(0).getlist()).subscribe(new Action1&lt;String&gt;() {
        @Override
        public void call(String s) {
            System.out.println(&quot;test5 call :&quot;+s);
        }
    });
}

//    test5 call :list:0
//    test5 call :list:1
//    test5 call :list:2
//    test5 call :list:3
//    test5 call :list:4
//    test5 call :list:5
//    test5 call :list:6
//    test5 call :list:7
//    test5 call :list:8
//    test5 call :list:9
</code></pre><h2 id="四、操作符使用"><a href="#四、操作符使用" class="headerlink" title="四、操作符使用"></a>四、操作符使用</h2><p>1、map：遍历list中的name，使用map操作符来获取list中的单项</p>
<pre><code>@Test
public void test7(){
    Observable.from(Data.getCats(10)).map(new Func1&lt;Cat, String&gt;() {

      @Override
      public String call(Cat cat) {
          return cat.toCat();//获取cat name
      }
  }).subscribe(new Observer&lt;String&gt;() {
      @Override
      public void onCompleted() {
          System.out.println(&quot;test7 onCompleted:&quot;);
      }

      @Override
      public void onError(Throwable e) {
          System.out.println(&quot;test7 onCompleted e:&quot;+e);
      }

      @Override
      public void onNext(String s) {
          System.out.println(&quot;test7 onNext :&quot;+s);
      }
  });
}

//  test7 onNext :0
//  test7 onNext :1
//  test7 onNext :2
//  test7 onNext :3
//  test7 onNext :4
//  test7 onNext :5
//  test7 onNext :6
//  test7 onNext :7
//  test7 onNext :8
//  test7 onNext :9
//  test7 onCompleted:
</code></pre><p>2、flatMap：<br>  循环List<cat> -&gt; cat里面的list -&gt; list 中的 String</cat></p>
<pre><code> @Test
 public void test8() {
     //循环List&lt;Cat&gt; -&gt; cat里面的list -&gt; list 中的 String
     Observable
             .from(Data.getCats())
             .flatMap(new Func1&lt;Cat, Observable&lt;String&gt;&gt;() {
                 @Override
                 public Observable&lt;String&gt; call(Cat cat) {
                     System.out.println(&quot;test8 call #########&quot; + cat.toCat());
                     return Observable.from(cat.getlist());
                 }
             })
             .subscribe(new Action1&lt;String&gt;() {
                 @Override
                 public void call(String s) {
                     System.out.println(&quot;test8 call :&quot; + s);
                 }
     });
 }
//  部分log
//  test8 call #########Cat0
//  test8 call :0:list
//  test8 call :1:list
//  test8 call :2:list
//  test8 call :3:list
//  test8 call :4:list
//  test8 call #########Cat1
//  test8 call :0:list
//  test8 call :1:list
//  test8 call :2:list
//  test8 call :3:list
//  test8 call :4:list
//  test8 call #########Cat2
//  test8 call :0:list
//  test8 call :1:list
//  test8 call :2:list
//  test8 call :3:list
//  test8 call :4:list
</code></pre><h2 id="五、线程控制使用"><a href="#五、线程控制使用" class="headerlink" title="五、线程控制使用"></a>五、线程控制使用</h2><p>以上的测试例子中，事件的发起和消费都是在同一个线程执行的，等同于 RxJava 是同步执行(学习使用)，但是，观察者模式本身就是等触发后才通知其他订阅者，所以来了解下 RxJava 如何使用线程的。</p>
<p>在不指定线程的情况下， RxJava 遵循的是线程不变的原则，即：在哪个线程调用 subscribe()<br>，就在哪个线程生产事件；在哪个线程生产事件，就在哪个线程消费事件。如果需要切换线程，就需要用到 Scheduler （调度器）。</p>
<p>  1) Scheduler 的 API (一)</p>
<p> 在RxJava 中，Scheduler ——调度器，相当于线程控制器，RxJava 通过它来指定每一段代码应该运行在什么样的线程。RxJava 已经内置了几个 Scheduler ，它们已经适合大多数的使用场景：</p>
<p>  1、Schedulers.immediate(): 直接在当前线程运行，相当于不指定线程。这是默认的 Scheduler。</p>
<p>  2、Schedulers.newThread(): 总是启用新线程，并在新线程执行操作。</p>
<p>  3、Schedulers.io(): I/O 操作（读写文件、读写数据库、网络信息交互等）所使用的 Scheduler。行为模式和 newThread() 差不多，区别在于 io() 的内部实现是是用一个无数量上限的线程池，可以重用空闲的线程，因此多数情况下 io() 比 newThread() 更有效率。不要把计算工作放在 io() 中，可以避免创建不必要的线程。</p>
<p>  4、 Schedulers.computation(): 计算所使用的 Scheduler。这个计算指的是 CPU 密集型计算，即不会被 I/O 等操作限制性能的操作，例如图形的计算。这个 Scheduler 使用的固定的线程池，大小为 CPU 核数。不要把 I/O 操作放在 computation() 中，否则 I/O 操作的等待时间会浪费 CPU。</p>
<p>  5、另外， Android 还有一个专用的 AndroidSchedulers.mainThread()，它指定的操作将在 Android 主线程运行。</p>
<p>  有了这几个 Scheduler ，就可以使用 subscribeOn() 和 observeOn() 两个方法来对线程进行控制了。 <em> subscribeOn(): 指定 subscribe() 所发生的线程，即 Observable.OnSubscribe 被激活时所处的线程。或者叫做事件产生的线程。 </em> observeOn(): 指定 Subscriber 所运行在的线程。或者叫做事件消费的线程。</p>
<pre><code>ImageView显示图片：


       Observable.just(R.drawable.ic_launcher).map(new Func1&lt;Integer, Drawable&gt;() {

        @Override
        public Drawable call(Integer integer) {
            return getResources().getDrawable(integer);
        }
        }).subscribeOn(Schedulers.io()) // 指定 subscribe() 发生在 IO 线程
            .observeOn(AndroidSchedulers.mainThread()) // 指定 Subscriber 的回调发生在主线程
        .subscribe(new Observer&lt;Drawable&gt;() {
        @Override
        public void onCompleted() {

        }

        @Override
        public void onError(Throwable e) {
            Toast.makeText(MainActivity.this, &quot;Error!&quot;, Toast.LENGTH_SHORT).show();
        }

        @Override
        public void onNext(Drawable drawable) {
            mImageView.setImageDrawable(drawable);
        }
        });
</code></pre><h5 id="多次切换线程"><a href="#多次切换线程" class="headerlink" title="多次切换线程"></a>多次切换线程</h5><pre><code>Observable.just(1, 2, 3, 4)
.subscribeOn(Schedulers.newThread()) // 指定 subscribe() 发生在 IO 线程
.observeOn(Schedulers.io()) // 指定在IO线程处理
.map(new Func1&lt;Integer, Integer&gt;() {

    @Override
    public Integer call(Integer integer) {
        return integer+1;
    }
})
.observeOn(AndroidSchedulers.mainThread())// 指定 Subscriber 的回调发生在主线程
.subscribe(new Action1&lt;Integer&gt;() {
    @Override
    public void call(Integer number) {
        Log.d(TAG, &quot;number:&quot; + number);
    }
});
</code></pre><h2 id="六、参考"><a href="#六、参考" class="headerlink" title="六、参考"></a>六、参考</h2><ul>
<li><a href="https://github.com/whiskeyfei/Node-for-Android/blob/master/Design/%E8%A7%82%E5%AF%9F%E8%80%85.md" target="_blank" rel="noopener">观察者</a></li>
<li><a href="http://gank.io/post/560e15be2dca930e00da1083" target="_blank" rel="noopener">给 Android 开发者的 RxJava 详解</a></li>
</ul>
<h2 id="七、小结"><a href="#七、小结" class="headerlink" title="七、小结"></a>七、小结</h2><p>代码已上传 <a href="https://github.com/whiskeyfei/WFAndroidDemo/tree/master/WFRxJavaDemo" target="_blank" rel="noopener">WFRxJavaDemo</a>，欢迎指正。</p>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://whiskeyfei.github.io/2016/03/25/android/2016-4-8-android-overdraw-note/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="無名">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/face.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="無名小子的杂货铺">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/03/25/android/2016-4-8-android-overdraw-note/" itemprop="url">Android Overdraw 初识及如何优化</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-03-25T11:59:01+09:00">2016-03-25</time>
            

            
            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Android/" itemprop="url" rel="index"><span itemprop="name">Android</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>最近在分析项目中的内存泄露和过渡绘制问题，关于如何避免简单内存泄露问题，已经在其他博客中记录了，今天来记录下关于 Android OverDraw 的知识点。</p>
<h2 id="Overdraw-概况"><a href="#Overdraw-概况" class="headerlink" title="Overdraw 概况"></a>Overdraw 概况</h2><p>Overdraw(过度绘制)描述的是屏幕上的某个像素在同一帧的时间内被绘制了多次。在多层次的UI结构里面，如果不可见的UI也在做绘制的操作，这就会导致某些像素区域被绘制了多次，这就浪费大量的CPU以及GPU资源，从而降低了程序的性能。</p>
<p>例如：在白色的顶部栏绘制一个按钮，按钮绘制在背景上面，就是overdraw，当然这里只是说明。</p>
<h3 id="如何开启？"><a href="#如何开启？" class="headerlink" title="如何开启？"></a>如何开启？</h3><p>开发者选项 - 开启GPU过度绘制</p>
<p><img src="!--￼1--&gt;/Overdraw1.png" alt=""></p>
<h3 id="基本效果"><a href="#基本效果" class="headerlink" title="基本效果"></a>基本效果</h3><p><img src="!--￼2--&gt;/Overdraw3.png" alt=""></p>
<h3 id="颜色含义解释"><a href="#颜色含义解释" class="headerlink" title="颜色含义解释"></a>颜色含义解释</h3><ul>
<li>没有颜色:  表示没有重绘</li>
<li>蓝色：表示重绘了一次,每个像素只画了两次,大块的蓝色是可以接受的</li>
<li>绿色：表示重绘了两次,每个像素画了三次,中等尺寸的绿色方块是可以接受的，最好尝试优化</li>
<li>红色：表示重绘了三次，这个像素被画了四次,很小尺寸的红色方块是可以接受的</li>
<li>黑色：表示重绘了四次及以上,这个像素被画了五次及以上。这个是要必须解决的</li>
</ul>
<h3 id="对比"><a href="#对比" class="headerlink" title="对比"></a>对比</h3><p>打开调试的应用，观察颜色过渡绘制情况，根据显示颜色分析哪些需要优化！</p>
<p>系统页面</p>
<p><img src="!--￼3--&gt;/Overdraw2.png" alt=""></p>
<p>VST 应用</p>
<p><img src="!--￼4--&gt;/Overdraw5.png" alt=""></p>
<p><img src="!--￼5--&gt;/Overdraw6.png" alt=""></p>
<h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><p>以上只是简单介绍了如何调适使用 Overdraw 调适工具，还可以使用 android 自带工具 Hierarchy Viewer，<br>来查看 view 的层级关系，4.2以下没有 Overdraw 调适选项，如果真机没有的话可以使用<br>第三方的 genymotion 模拟器，很好用。</p>
<h3 id="实例"><a href="#实例" class="headerlink" title="实例"></a>实例</h3><p>主要是为了说明问题，在 demo 中演示，以下是效果对比：</p>
<p>之前：</p>
<p><img src="!--￼6--&gt;/Overdraw7.png" alt=""></p>
<p>之后：白色区域为没有重复绘制</p>
<p><img src="!--￼7--&gt;/Overdraw8.png" alt=""></p>
<p>优化点：</p>
<p>1、去掉window的默认背景</p>
<p>首先如果子 view 上设置背景的话，就要把根布局上背景去掉，同时去掉这个那个 activity 的背景。</p>
<pre><code>getWindow().setBackgroundDrawable(null);
</code></pre><p>在setContentView之后设置才能起作用        </p>
<p>2、去除多余的层级</p>
<p>首先是采用最简单的布局来搭建页面，不要过多的嵌套 LinearLayout 和 RelativeLayout，<br>然后使用 include、merge、viewstub 标签进行优化 view 层级。</p>
<p>具体可以查看以前的笔记 <a href="!--￼0--">Android ViewStub、include、merge 标签使用</a></p>
<p>这里三个标签主要是减少 view 层级，去除多余重复的 view 布局，以及 include 能复用一些相同的布局，ViewStub 是惰性控件占位作用，只有需要<br>的时候才去初始化 view。</p>
<p>3、使用透明图片或者 .9 格式图片</p>
<p>有时候图片是有边框的，这时候就可以用.9格式的图片设置背景。</p>
<p>4、和设计同学多沟通</p>
<p>这里就是实际开发中，要在效果和性能上达到一个合理比例，不能一味的为了效果导致性能下降。</p>
<h3 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h3><ul>
<li><a href="http://developer.android.com/intl/zh-cn/tools/performance/debug-gpu-overdraw/index.html#VisualizingOverdraw" target="_blank" rel="noopener">Debug GPU Overdraw Walkthrough</a></li>
<li><a href="http://hukai.me/android-performance-patterns/" target="_blank" rel="noopener">Android性能优化典范 - 第1季</a></li>
</ul>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://whiskeyfei.github.io/2016/03/25/android/2016-11-06-mvp-rxjava/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="無名">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/face.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="無名小子的杂货铺">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/03/25/android/2016-11-06-mvp-rxjava/" itemprop="url">Google Samples MVP + RxJava 官方精简Demo</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-03-25T11:59:01+09:00">2016-03-25</time>
            

            
            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Android/" itemprop="url" rel="index"><span itemprop="name">Android</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>前段时间学习了 Google Samples  MVP <strong><a href="https://github.com/googlesamples/android-architecture" target="_blank" rel="noopener">android-architecture</a></strong> <a href="https://github.com/googlesamples/android-architecture/tree/todo-mvp/" target="_blank" rel="noopener">todo-mvp/</a> 了解了 MVP 基本使用方法，以及 UseCase 的使用，之后也用在项目当中，确实带来了一些好处，比如：数据和 UI 拆分，UseCase 执行重用，使用线程池等等，之后了解了 RxJava，有必要合并 mvp 使用下，参考官方 Google Samples  github <a href="https://github.com/googlesamples/android-architecture/tree/todo-mvp-rxjava/" target="_blank" rel="noopener">todo-mvp-rxjava/</a> 例子学习并记录在此。</p>
<h4 id="一、MVP"><a href="#一、MVP" class="headerlink" title="一、MVP"></a>一、MVP</h4><p>这部分是最最初的知识，在我的另一篇 <a href="http://www.jianshu.com/p/a6d5a78198d0" target="_blank" rel="noopener">Google MVP 你也可以运用自如</a> 总结中可以看到对官方MVP demo <a href="https://github.com/googlesamples/android-architecture/tree/todo-mvp/" target="_blank" rel="noopener">todo-mvp/</a> 的精简代码，没有了解过的可以先看看这个，然后跟着代码自己操练一下就可以了。</p>
<h4 id="二、RxJava"><a href="#二、RxJava" class="headerlink" title="二、RxJava"></a>二、RxJava</h4><p>RxJava 的基本用法肯定是要学的，我这里就不介绍了，之后会写一篇关于 RxJava 语法的练习，现在就当你已经会使用 RxJava 了。</p>
<p><a href="http://www.jianshu.com/p/618c4c583160" target="_blank" rel="noopener">RxJava语法练习</a>看这里，后补充。</p>
<h4 id="三、MVP-RxJava"><a href="#三、MVP-RxJava" class="headerlink" title="三、MVP + RxJava"></a>三、MVP + RxJava</h4><p>修改主要集中在 Presenter 中，由于使用 rxjava 订阅的方式，所以接口更改了，去除了 start() 方法，也不再使用 Handler 来回调主线程，也使用 rxAndroid提供的线程调用相关 Api 。</p>
<p>注意：我这里是把获取数据的逻辑写在了 Presenter 中，这是 demo 形式，如果是真是项目肯定是用写在 Task 中的，这里就是做一些大概描述。</p>
<p> 1、BasePresenter 更改：</p>
<pre><code>public interface BasePresenter {   
    void subscribe();   
    void unsubscribe();
}
</code></pre><p>2、添加 Observable ：</p>
<pre><code> private void startTask() {
     mSubscriptions.clear();
     Subscription subscription = getObservable().subscribe(getSubscriber());
     mSubscriptions.add(subscription);
 }

private Observable&lt;List&lt;String&gt;&gt; getObservable() {
    return Observable.create(new Observable.OnSubscribe&lt;List&lt;String&gt;&gt;() {
        @Override
        public void call(Subscriber&lt;? super List&lt;String&gt;&gt; subscriber) {
            try {
                Thread.sleep(3000);//模拟一个3秒的加载
            } catch (InterruptedException e) {
                subscriber.onError(e);
            }
            List&lt;String&gt; list = new ArrayList&lt;&gt;();
            for (int i = 0; i &lt; 10; i++) {
                list.add(i + &quot;--&quot;);
            }
            subscriber.onNext(list);
            subscriber.onCompleted();
        }
    })
            .subscribeOn(mSchedulerProvider.io())//指定 subscribe() 发生在新的线程
            .observeOn(mSchedulerProvider.ui());// 指定 Subscriber 的回调发生在主线程
}

//处理数据结果以及UI相关操作
 private Subscriber&lt;List&lt;String&gt;&gt; getSubscriber() {
     return new Subscriber&lt;List&lt;String&gt;&gt;() {
         @Override
         public void onStart() {
             super.onStart();
             mView.setLoading(true);//操作UI
         }

         @Override
         public void onCompleted() {
             mView.setLoading(false);//操作UI
         }

         @Override
         public void onError(Throwable e) {
             mView.setLoading(false);//操作UI
         }

         @Override
         public void onNext(List&lt;String&gt; list) {
             mView.show(list);//view接口回调
         }
     };
 }
</code></pre><p>3、其他：<br>另外关于 Scheduler 部分，将其中的模式抽象成接口，使用者实现使用即可</p>
<pre><code>public interface BaseSchedulerProvider {

     Scheduler computation();

     Scheduler io();

     Scheduler ui();

     Scheduler newThread();
 }
</code></pre><p>4、代码<br>关于这部分的练习代码，上传到了分支 <strong><a href="https://github.com/whiskeyfei/android-architecture-todo-mvp/tree/android-architecture-todo-mvp-rxjava" target="_blank" rel="noopener">android-architecture-todo-mvp-rxjava</a></strong> 上，有需要的朋友可以下载运行，demo 形式很简单，使用 mvp+rxjava 显示一个 list 文本。</p>
<h4 id="四、参考"><a href="#四、参考" class="headerlink" title="四、参考"></a>四、参考</h4><p>以下为编写过程中参考的资料</p>
<ul>
<li><a href="https://github.com/googlesamples/android-architecture" target="_blank" rel="noopener">android-architecture</a></li>
<li><a href="https://github.com/googlesamples/android-architecture/tree/todo-mvp/" target="_blank" rel="noopener">todo-mvp</a></li>
<li><a href="https://github.com/googlesamples/android-architecture/tree/todo-mvp-rxjava/" target="_blank" rel="noopener">todo-mvp-rxjava/</a></li>
<li><a href="https://github.com/googlesamples/android-architecture" target="_blank" rel="noopener">android-architecture</a></li>
</ul>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://whiskeyfei.github.io/2016/03/25/android/2016-8-23-typeface/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="無名">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/face.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="無名小子的杂货铺">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/03/25/android/2016-8-23-typeface/" itemprop="url">Android 换字体总结</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-03-25T11:59:01+09:00">2016-03-25</time>
            

            
            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Android/" itemprop="url" rel="index"><span itemprop="name">Android</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>之前调研客户端动态换字体，尝试过很多方案，也走过很多弯路，总结下心路历程</p>
<p>1、和 Rom 无关，限 App 内<br><br>2、支持动态切换<br><br>3、方式（自定义 、遍历、替换）<br></p>
<h4 id="一、归根结底"><a href="#一、归根结底" class="headerlink" title="一、归根结底"></a>一、归根结底</h4><p>归根结底都是改变 Typeface 然后通过 setTypeface() 设置字体，包括系统的控件和 cavas 的 paint。</p>
<h4 id="二、基础"><a href="#二、基础" class="headerlink" title="二、基础"></a>二、基础</h4><p>系统提供从 asset 目录和普通目录获取Typeface方法，如下：</p>
<pre><code>Typeface.createFromAsset(mContext.getAssets(), name);
Typeface.createFromFile(path);
</code></pre><p>有了Typeface 就能更好的为换字体提供支持</p>
<h4 id="三、方式"><a href="#三、方式" class="headerlink" title="三、方式"></a>三、方式</h4><h5 id="1、自定义"><a href="#1、自定义" class="headerlink" title="1、自定义"></a>1、自定义</h5><p>先来说说比较笨的方式，自定义所有能显示文字的控件，重写 setTypeface 方法，设置自己的 typeface 即可</p>
<p>优点：直观一劳永逸，后期如果有其他需求，可以跟进开发，例如：不仅是字体样式，还有 Style 样式动态改变的情况；</p>
<p>代码示例：</p>
<pre><code>@Override
public void setTypeface(Typeface tf) {
    Typeface currentTypeface = TypefaceHelper.getInstance().getCurrentTypeface();
        if (currentTypeface != null) {
            super.setTypeface(currentTypeface);
            return;
        }
    super.setTypeface(tf);
}
</code></pre><h5 id="2、遍历："><a href="#2、遍历：" class="headerlink" title="2、遍历："></a>2、遍历：</h5><p>查过很多资料也翻过 github 上的代码，有很多采用对当前页面 view 进行遍历的方式，遇到 继承自 TextView 的 View 就动态设置 typeface；</p>
<p>优点：不用更改 xml、只在使用时候更改字体；</p>
<p>缺点：<br></p>
<ul>
<li>循环遍历消耗性能，对大量 view 的界面不太适合，容易造成页面卡顿现象；</li>
<li>对采用 cavas 的自定义画布的方式需要单独处理里面的文字显示；</li>
</ul>
<p>代码示例：</p>
<pre><code>private void applyForView(View view, Typeface typeface) {
    if (view instanceof TextView) {
        TextView textView = (TextView) view;
        TextPaint paint = textView.getPaint();
        paint.setTypeface(typeface);
        textView.invalidate();
    }
}
</code></pre><h5 id="3、替换掉系统字体"><a href="#3、替换掉系统字体" class="headerlink" title="3、替换掉系统字体"></a>3、替换掉系统字体</h5><p>在程序启动初始化的时候，将系统的字体通过反射的方式替换掉我们的字体包，这个是目前改动最小的地方</p>
<p>优点：<br></p>
<ul>
<li>不用更改 xml、和动态更改 typeface；<br></li>
</ul>
<p>缺点：<br></p>
<ul>
<li>干涉了系统字体，可能会造成影响;<br></li>
</ul>
<p>参考：<a href="https://github.com/whiskeyfei/FontOverrideExample" target="_blank" rel="noopener">https://github.com/whiskeyfei/FontOverrideExample</a><br></p>
<p>代码示例：</p>
<pre><code>final Typeface normal_monospace = Typeface.createFromAsset(getAssets(), DEFAULT_MONOSPACE_NORMAL_FONT_FILENAME);
Field monospaceDefaultField = Typeface.class.getDeclaredField(&quot;MONOSPACE&quot;);
monospaceDefaultField.setAccessible(true);
monospaceDefaultField.set(null, normal_monospace);
</code></pre><h3 id="四、动态改变："><a href="#四、动态改变：" class="headerlink" title="四、动态改变："></a>四、动态改变：</h3><p>1、采用观察者模式，字体改变通知所以订阅着改变自己的字体；<br><br>2、ViewGroup做监听，遍历所有子 view，还需要注意的动态新添加的 view 也要绑定监听，不然新 view 不能动态改变;<br></p>
<p>这两种方式都试过，由于 view 较多，影响效率，也就放弃了。</p>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>以上简单总结了 Android 换字体使用的方案，可以翻看参考的 github 库来实践。</p>
<p>注意：如果是中文字体，一定要注意字体包的完整性，有一些是个人做的，可能会有一些问题，我遇到的就是中英文字体 padding 不一样，造成显示效果不一样。<br></p>
<h4 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h4><p>一些关于字体的开源库：<br></p>
<ul>
<li><a href="https://github.com/chrisjenx/Calligraphy" target="_blank" rel="noopener">https://github.com/chrisjenx/Calligraphy</a></li>
<li><a href="https://github.com/johnkil/Android-Icon-Fonts" target="_blank" rel="noopener">https://github.com/johnkil/Android-Icon-Fonts</a></li>
<li><a href="https://github.com/GcsSloop/FontsManager" target="_blank" rel="noopener">https://github.com/GcsSloop/FontsManager</a></li>
<li><a href="https://github.com/vsvankhede/EasyFonts" target="_blank" rel="noopener">https://github.com/vsvankhede/EasyFonts</a></li>
<li><a href="https://github.com/Pixplicity/letterpress" target="_blank" rel="noopener">https://github.com/Pixplicity/letterpress</a></li>
<li><a href="https://github.com/svendvd/Fontinator" target="_blank" rel="noopener">https://github.com/svendvd/Fontinator</a></li>
</ul>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://whiskeyfei.github.io/2016/03/25/android/2016-3-26-node-rxjava/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="無名">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/face.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="無名小子的杂货铺">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/03/25/android/2016-3-26-node-rxjava/" itemprop="url">RxJava 初学和在 Android 项目中的简单应用</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-03-25T11:59:01+09:00">2016-03-25</time>
            

            
            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Android/" itemprop="url" rel="index"><span itemprop="name">Android</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>前段时间关于 RxJava 的内容铺天盖地，作为一个 Android 开发，总有一种必须要学一学的感觉，今天来说说 RxJava，当然了只是简单应用，<br>自己也没有那么深入研究，不过可以在使用过程中慢慢去了解 RxJava 的机制。本文例子有一些来源于网上，也是一步一步跟着看下来，如有引用不当<br>请及时告知，我及时更改。</p>
<h2 id="观察者模式"><a href="#观察者模式" class="headerlink" title="观察者模式"></a>观察者模式</h2><p>这里需要说一下观察者模式，RxJava 是扩展的观察者模式，先要了解下观察者模式，我在 java 基础中有纪录，可以去看<a href="!--￼0--&gt;/日常/2015/11/26/java-base.html">设计模式－观察者模式</a>，自己敲一个 Demo 就行了，最常见的 Android 中Button绑定点击监听事件，其实不了解观察者模式也能理解这种点击监听事件处理，<br>觉得用的非常合理，我有一个 Button ，想点击时跳转另一个页面，就需要给 Button 绑定一个 Listener ，跳转的逻辑在监听里面做。<br>按照观察者模式思考的话，Button ＝ 被观察者，Listener 是观察者，二者绑定在一起，就形成了 Button 被点击，Listener 被执行。完事。</p>
<h2 id="RxJava-的观察者模式"><a href="#RxJava-的观察者模式" class="headerlink" title="RxJava 的观察者模式"></a>RxJava 的观察者模式</h2><p>RxJava 有四个基本概念：Observable (可观察者，即被观察者)、 Observer (观察者)、 subscribe (订阅)、事件。Observable 和 Observer 通过 subscribe() 方法实现订阅关系，从而 Observable 可以在需要的时候发出事件来通知 Observer。</p>
<p>与传统观察者模式不同， RxJava 的事件回调方法除了普通事件 onNext() （相当于 onClick() / onEvent()）之外，还定义了两个特殊的事件：onCompleted() 和 onError()。</p>
<p>onCompleted(): 事件队列完结。RxJava 不仅把每个事件单独处理，还会把它们看做一个队列。RxJava 规定，当不会再有新的 onNext() 发出时，需要触发 onCompleted() 方法作为标志。<br>onError(): 事件队列异常。在事件处理过程中出异常时，onError() 会被触发，同时队列自动终止，不允许再有事件发出。<br>在一个正确运行的事件序列中, onCompleted() 和 onError() 有且只有一个，并且是事件序列中的最后一个。需要注意的是，onCompleted() 和 onError() 二者也是互斥的，即在队列中调用了其中一个，就不应该再调用另一个。</p>
<p>以上完全摘自<a href="http://gank.io/post/560e15be2dca930e00da1083#toc_1" target="_blank" rel="noopener">给 Android 开发者的 RxJava 详解</a>,写的特别好，自己看了不少20遍。</p>
<h2 id="练习"><a href="#练习" class="headerlink" title="练习"></a>练习</h2><p>刚开始看 <a href="http://gank.io/post/560e15be2dca930e00da1083#toc_1" target="_blank" rel="noopener">Android 开发者的 RxJava 详解</a>的时候有些确实不太明白，然后自己又跟着<a href="http://www.devtf.cn/?p=323" target="_blank" rel="noopener">NotRxJava懒人专用指南</a> 敲了所有的代码，然后才渐渐的理解 RxJava 原来是想达到这样的效果，然后在开始练习 RxJava 相关的 case 就很容易理解了。</p>
<p>1、NotRxJava</p>
<p>这例子是跟着<a href="http://www.devtf.cn/?p=323" target="_blank" rel="noopener">NotRxJava懒人专用指南</a> 完成的例子，这里简单说一说。</p>
<p>有个需求是这样描述的:从网络获取 Cat 列表数据，根本某个条件找出相应的 Cat；<br>再没有用过 RxJava 时，我们可能就会一步一步的进行操作，先获取数据 -&gt; 解析数据 -&gt; 循环匹配。看似非常完美，然后某一天又增加了一天过滤条件，就要在原来的基础上<br>修改，然后。。然后。。。改。。改。。，我们肯定不想过这样的日子。</p>
<p>下面用 <a href="http://www.devtf.cn/?p=323" target="_blank" rel="noopener">NotRxJava懒人专用指南</a> 来简单实现这样一个功能，在使用时简化了很多，传入条件，直接返回结果，不需要了解内部的实现，符合最简。</p>
<p>调用方式</p>
<pre><code>CatsHelper4 catsHelper4 = new CatsHelper4();
      catsHelper4.saveTheCutestCat(Constants.BAIDU).start(new Callback&lt;String&gt;() {
          @Override
          public void onResult(String result) {
              Log.e(TAG,&quot;catsHelperTest4 result:&quot;+result);
          }

          @Override
          public void onError(Exception e) {
              Log.e(TAG,&quot;catsHelperTest4 e:&quot;+e);
          }
      });

  public class CatsHelper4 {
      ApiWrapper3 apiWrapper = new ApiWrapper3();

      public AsyncJob&lt;String&gt; saveTheCutestCat(final String query) {
         final AsyncJob&lt;List&lt;Cat&gt;&gt; catsListAsyncJob = apiWrapper.queryCats(query);
  //        这 16 行代码只有一行是对我们有用（对于逻辑来说）的操作：
  //        findCutest(result)

          final AsyncJob&lt;Cat&gt; cutestCatAsyncJob = new AsyncJob&lt;Cat&gt;(){

              @Override
              public void start(final Callback&lt;Cat&gt; callback) {
                  catsListAsyncJob.start(new Callback&lt;List&lt;Cat&gt;&gt;() {
                      @Override
                      public void onResult(List&lt;Cat&gt; result) {
                          callback.onResult(findCutest(result));
                      }

                      @Override
                      public void onError(Exception e) {
                          callback.onError(e);
                      }
                  });
              }
          };

          AsyncJob&lt;String&gt; stringAsyncJob = new AsyncJob&lt;String&gt;() {
              @Override
              public void start(final Callback&lt;String&gt; cutestCatCallback) {
                  cutestCatAsyncJob.start(new Callback&lt;Cat&gt;() {
                      @Override
                      public void onResult(Cat result) {
                          apiWrapper.store(result).start(new Callback&lt;String&gt;() {
                              @Override
                              public void onResult(String result) {
                                  cutestCatCallback.onResult(result);
                              }

                              @Override
                              public void onError(Exception e) {
                                  cutestCatCallback.onError(e);
                              }
                          });
                      }

                      @Override
                      public void onError(Exception e) {
                          cutestCatCallback.onError(e);
                      }
                  });
              }
          };

          return stringAsyncJob;
      }

      private Cat findCutest(List&lt;Cat&gt; cats) {
          return cats.get(0);
      }
  }            

  public class ApiWrapper3 {
      Api api = new ApiTest();

      public AsyncJob&lt;List&lt;Cat&gt;&gt; queryCats(final String query) {
          return new AsyncJob&lt;List&lt;Cat&gt;&gt;() {
              @Override
              public void start(final Callback&lt;List&lt;Cat&gt;&gt; catsCallback) {
                  api.queryCats(query, new Api.CatsQueryCallback() {

                      @Override
                      public void onCatListReceived(List&lt;Cat&gt; cats) {
                          catsCallback.onResult(cats);
                      }

                      @Override
                      public void onError(Exception e) {
                          catsCallback.onError(e);
                      }
                  });
              }
          };
      }

      public AsyncJob&lt;String&gt; store(final Cat cat) {
          return new AsyncJob&lt;String&gt;() {
              @Override
              public void start(final Callback&lt;String&gt; callback) {
                  api.store(cat, new Api.StoreCallback() {
                      @Override
                      public void onCatStored(String s) {
                          callback.onResult(s);
                      }

                      @Override
                      public void onStoreFailed(Exception e) {
                          callback.onError(e);
                      }
                  });
              }
          };
      }
  }
</code></pre><p>首先调用非常简单，生成一个对象 CatsHelper4 ，使用 saveTheCutestCat 方法，传入一个 url 地址，成功则返回 Cat result，失败则返回 Exception 信息；</p>
<p>saveTheCutestCat 方法会触发queryCats(query) 方法，并 new 一个 AsyncJob<cat> 对象，queryCats 是一个异步操作，真正起获取网络请求的是在 ApiTest 中，它实现了Api接口，这部分先不考虑，这部分可以单独拿出来，我们就当数据已经获取了，并且赋值给了 catsListAsyncJob 变量，这时候 saveTheCutestCat 方法中返回一个 AsyncJob<string> 对象，其实就是结果，但是这个结果触发是在获取数据之后，由catsHelper4.saveTheCutestCat(Constants.BAIDU).start() ,start 方法开始，根据 url<br>stringAsyncJob.start -&gt; cutestCatAsyncJob.start -&gt; apiWrapper.store -&gt; result，相当于是一个逆向操作，在写的时候是一步一步正向操作，而在调用的时候<br>需要直接拿结果，结果没有再向上获取上一个结果，形成一个闭环。</string></cat></p>
<p>这个例子可能看上去太过于麻烦，当时看的时候自己也觉得是，但是当你真正写了一遍以后，就会发现，我们平时编程就应该有这种思想，使用方式特别简单，接口抽象等等，这样<br>才能做好易于扩展。</p>
<p>但说回来，这就是一个类似于 Rxjava 的例子，可能远远不够，因为没有观察者模式，所以下面我们来练习使用 RxJava 的基本方法；</p>
<p>2、Rxjava 练习</p>
<p>练习使用创建Observable、快速创建 create from just等、map flatMap filter doOnNext 等函数使用</p>
<ul>
<li>map: 事件对象的直接变换,非常灵活和实用，例子中有很多，string -&gt; int;</li>
<li>flatMap: 事件操作符<br>  flatMap() 和 map() 有一个相同点：它也是把传入的参数转化之后返回另一个对象，但需要注意，和 map() 不同的是， flatMap() 中返回的是个 Observable 对象，并且这个 Observable 对象并不是被直接发送到了 Subscriber 的回调方法中。</li>
<li>filter:用于过滤等。</li>
<li>take:获取个数。</li>
<li><p>doOnNext:允许我们在每次输出一个元素之前做一些额外的事情</p>
<pre><code>//将字符串数组 names 中的所有字符串依次打印出来,并且支持不完整得回调

@Test
public void test1(){
    String [] names ={&quot;111&quot;,&quot;222&quot;,&quot;333&quot;};
    Observable.from(names).subscribe(new Action1&lt;String&gt;() {
        @Override
        public void call(String name) {
            System.out.println(&quot;test1 name:&quot;+name);
        }
    });
}

//just 将传入的参数依次打印
//    onNext:1
//    onNext:2
//    onNext:3
//    test2 onCompleted
@Test
public void test2(){
    Observable.just(&quot;1&quot;,&quot;2&quot;,&quot;3&quot;).subscribe(new Observer&lt;String&gt;() {
        @Override
        public void onCompleted() {
            System.out.println(&quot;test2 onCompleted&quot;);
        }

        @Override
        public void onError(Throwable e) {
            System.out.println(&quot;test2 e:&quot;+e);
        }

        @Override
        public void onNext(String s) {
            System.out.println(&quot;onNext:&quot;+s);
        }
    });
}
</code></pre></li>
</ul>
<pre><code> //将字符串数组 names 中的所有字符串依次打印出来
    //    依次调用onNext(&quot;111&quot;)
    //    依次调用onNext(&quot;222&quot;)
    //    依次调用onNext(&quot;333&quot;)
    @Test
    public void test3(){
        String [] names ={&quot;111&quot;,&quot;222&quot;,&quot;333&quot;};
        Observable.from(names).subscribe(new Observer&lt;String&gt;() {
            @Override
            public void onCompleted() {
                System.out.println(&quot;test3 onCompleted&quot;);
            }

            @Override
            public void onError(Throwable e) {
                System.out.println(&quot;test3 e:&quot;+e);
            }

            @Override
            public void onNext(String s) {
                System.out.println(&quot;test3 onNext:&quot;+s);
            }
        });
    }


//将字符串数组 names 中的所有字符串依次打印出来
//    依次调用onNext(&quot;111&quot;)
//    依次调用onNext(&quot;222&quot;)
//    依次调用onNext(&quot;333&quot;)
@Test
public void test4(){
    //1:被观察者
    String [] names ={&quot;111&quot;,&quot;222&quot;,&quot;333&quot;};
    Observable observable = Observable.from(names);

    //2:观察者
    Action1 onNextAction = new Action1&lt;String&gt;() {
        @Override
        public void call(String s) {
            System.out.println(&quot;test4 call&quot;+s);
        }
    };

    Action1&lt;Throwable&gt; onErrorAction = new Action1&lt;Throwable&gt;() {
        @Override
        public void call(Throwable e) {
            System.out.println(&quot;test4 call e:&quot;+e);
        }
    };


    Action0 onCompletedAction = new Action0() {
        @Override
        public void call() {
            System.out.println(&quot;test4 call onCompletedAction&quot;);
        }
    };
    //3:订阅:被观察者被观察者订阅
    observable.subscribe(onNextAction, onErrorAction, onCompletedAction);
}

//循环输出list
//    test5 call :list:0
//    test5 call :list:1
//    test5 call :list:2
//    test5 call :list:3
//    test5 call :list:4
//    test5 call :list:5
//    test5 call :list:6
//    test5 call :list:7
//    test5 call :list:8
//    test5 call :list:9
@Test
public void test5(){
    Observable.from(Data.getCats().get(0).getlist()).subscribe(new Action1&lt;String&gt;() {
        @Override
        public void call(String s) {
            System.out.println(&quot;test5 call :&quot;+s);
        }
    });
}        


//cats -&gt; cat.list -&gt; s
//1:被观察者

//2:数据转换

//3:被观察者被观察者订阅

//4:观察者
@Test
public void test8(){
    Observable.from(Data.getCats()).flatMap(new Func1&lt;Cat, Observable&lt;String&gt;&gt;() {
        @Override
        public Observable&lt;String&gt; call(Cat cat) {
            return Observable.from(cat.getlist());
        }
    }).subscribe(new Action1&lt;String&gt;() {
        @Override
        public void call(String s) {
            System.out.println(&quot;test8 call :&quot;+s);
        }
    });
}


//操作符 用来转换string

Observable.just(&quot;hello World&quot;).map(new Func1&lt;String, String&gt;() {

    @Override
    public String call(String s) {
        return s + &quot;:test&quot;;
    }
}).subscribe(new Observer&lt;String&gt;() {
    @Override
    public void onCompleted() {
    }

    @Override
    public void onError(Throwable e) {
    }

    @Override
    public void onNext(String s) {
        System.out.println(&quot;onNext s:&quot;+s);
    }
});


//string -&gt; hashCode
Observable.just(&quot;Hello, world!&quot;).map(new Func1&lt;String, Integer&gt;() {

    @Override
    public Integer call(String s) {
        return s.hashCode();
    }
}).subscribe(new Observer&lt;Integer&gt;() {
    @Override
    public void onCompleted() {
    }

    @Override
    public void onError(Throwable e) {
    }

    @Override
    public void onNext(Integer integer) {
        System.out.println(&quot;onNext integer:&quot;+integer);
    }
});


//转换三次 string -&gt; int &gt; string &gt; int
Observable.just(&quot;Hello, world!&quot;).map(new Func1&lt;String, Integer&gt;() {

    @Override
    public Integer call(String s) {
        return s.hashCode();
    }
}).map(new Func1&lt;Integer, String&gt;() {

    @Override
    public String call(Integer integer) {
        return Integer.toString(integer);
    }
}).subscribe(new Observer&lt;String&gt;() {
    @Override
    public void onCompleted() {
    }

    @Override
    public void onError(Throwable e) {
    }

    @Override
    public void onNext(String s) {
        System.out.println(&quot;onNext s:&quot;+s);
    }
});


    @Test
public void ObserverList(){
    Observable.create(new Observable.OnSubscribe&lt;List&lt;String&gt;&gt;() {

        @Override
        public void call(Subscriber&lt;? super List&lt;String&gt;&gt; subscriber) {
            List&lt;String&gt; list = new ArrayList&lt;&gt;();
            for (int i = 0;i&lt;10;i++){
                list.add(i + &quot;--&quot;);
            }
            subscriber.onNext(list);
        }
    }).subscribe(new Observer&lt;List&lt;String&gt;&gt;() {
        @Override
        public void onCompleted() {

        }

        @Override
        public void onError(Throwable e) {

        }

        @Override
        public void onNext(List&lt;String&gt; strings) {
            System.out.println(&quot;flatMapTest onNext strings:&quot;+strings);
        }
    });
}

// list -&gt; string -&gt; 不为null -&gt; 获取5个
@Test
public void flatMapTest(){
    //flatMap操作符
    Observable.create(new Observable.OnSubscribe&lt;List&lt;String&gt;&gt;() {

        @Override
        public void call(Subscriber&lt;? super List&lt;String&gt;&gt; subscriber) {
            List&lt;String&gt; list = new ArrayList&lt;&gt;();
            for (int i = 0;i&lt;10;i++){
                list.add(i + &quot;--&quot;);
            }
            subscriber.onNext(list);
        }
    }).flatMap(new Func1&lt;List&lt;String&gt;, Observable&lt;String&gt;&gt;() {
        @Override
        public Observable&lt;String&gt; call(List&lt;String&gt; strings) {
            return Observable.from(strings);
        }
    }).filter(new Func1&lt;String, Boolean&gt;() {
        @Override
        public Boolean call(String s) {
            //滤掉null值
            return s != null;
        }
        //take只需要5个 获取的意思
    }).take(5).doOnNext(new Action1&lt;String&gt;() {
        @Override
        public void call(String s) {
            //doOnNext()允许我们在每次输出一个元素之前做一些额外的事情
        }
    }).subscribe(new Observer&lt;String&gt;() {
        @Override
        public void onCompleted() {

        }

        @Override
        public void onError(Throwable e) {

        }

        @Override
        public void onNext(String s) {
            System.out.println(&quot;flatMapTest onNext s:&quot;+s);
        }
    });
}


@Test
public void subscriptionTest(){
    Subscription subscription = Observable.just(&quot;&quot;).subscribe(new Action1&lt;String&gt;() {
        @Override
        public void call(String s) {

        }
    });
    subscription.isUnsubscribed();//检查是否已经取消订阅
    subscription.unsubscribe();//停止整个链
}   
</code></pre><h2 id="Android使用"><a href="#Android使用" class="headerlink" title="Android使用"></a>Android使用</h2><p>在 Android 中，我们就要注意调度器 Scheduler 的使用时机，相当于线程控制器，RxJava 通过它来指定每一段代码应该运行在什么样的线程。<br>比如需要在线程中使用，访问网络，又要在UI主线程中执行结果，等等其他一些情况。</p>
<ul>
<li>subscribeOn(): 指定 subscribe 所发生的线程;</li>
<li>observeOn(): 指定 Subscriber 所运行在的线程;</li>
</ul>
<p>目前开发我使用 Schedulers.io()指定发生的线程，使用 AndroidSchedulers.mainThread()在 Android 主线程运行结果，这个只是在<br>当前例子中的用法，其他的查看底部的推荐内容，很详细。</p>
<p>我这里会绘制一个文件名称列表，没有的话先会创建文件，然后在绘制 ListView 上。</p>
<pre><code>private void readFile() {
    Observable.just(mPath).map(new Func1&lt;String, File[]&gt;() {

        @Override
        public File[] call(String path) {
            File file = new File(path);
            return file.listFiles();
        }
    }).map(new Func1&lt;File[], List&lt;String&gt;&gt;() {

        @Override
        public List&lt;String&gt; call(File[] files) {
            return Data.changeList(files);
        }
    }).subscribeOn(Schedulers.io()).observeOn(AndroidSchedulers.mainThread()).subscribe(new Observer&lt;List&lt;String&gt;&gt;() {
        @Override
        public void onCompleted() {
            Log.e(TAG,&quot;onCompleted&quot;);
        }

        @Override
        public void onError(Throwable e) {
            Log.e(TAG,&quot;onError e:&quot; + e);
        }

        @Override
        public void onNext(List&lt;String&gt; list) {
            Log.e(TAG,&quot;onNext list:&quot; + list);
            mAdapter.setDate(list);
        }
    });
}
</code></pre><p>这里没有贴出在 APP 包名下创建文件的过程，只有读写的过程，首先是根据路径获得 file list，然后转换成List<string> 列表，指定在 io 线程启动，在<br>UI 主线程执行结果，刷新UI。我一般在使用 MVP 开发的时候，将 create Observable 这个过程放到 M 层来做，subscribeOn 放到 P 层来做，这样直接将结果回调给 View 层。    </string></p>
<h2 id="推荐"><a href="#推荐" class="headerlink" title="推荐"></a>推荐</h2><ul>
<li><a href="http://gank.io/post/560e15be2dca930e00da1083#toc_1" target="_blank" rel="noopener">Android 开发者的 RxJava 详解</a></li>
<li><a href="http://www.devtf.cn/?p=323" target="_blank" rel="noopener">NotRxJava懒人专用指南</a></li>
<li><a href="https://github.com/whiskeyfei/WFAndroidDemo/tree/master/WFRxJavaDemo" target="_blank" rel="noopener">WFRxJavaDemo</a> Demo例子都在里面</li>
</ul>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/2/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><span class="page-number current">3</span><a class="page-number" href="/page/4/">4</a><a class="page-number" href="/page/5/">5</a><a class="extend next" rel="next" href="/page/4/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/uploads/face.jpg"
                alt="無名" />
            
              <p class="site-author-name" itemprop="name">無名</p>
              <p class="site-description motion-element" itemprop="description">记录学习、生活</p>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">47</span>
                    <span class="site-state-item-name">日志</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-categories">
                  <a href="/categories/index.html">
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">5</span>
                    <span class="site-state-item-name">分类</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-tags">
                  <a href="/tags/index.html">
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">31</span>
                    <span class="site-state-item-name">标签</span>
                  </a>
                </div>
              
            </nav>
          

          

          
            <div class="links-of-author motion-element">
              
                <span class="links-of-author-item">
                  <a href="https://github.com/whiskeyfei" target="_blank" title="GitHub"><i class="fa fa-fw fa-github"></i>GitHub</a>
                  
                </span>
              
                <span class="links-of-author-item">
                  <a href="mailto:whiskeyfei@gmail.com" target="_blank" title="E-Mail"><i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                  
                </span>
              
                <span class="links-of-author-item">
                  <a href="https://www.jianshu.com/u/fa272f63280a" target="_blank" title="简书"><i class="fa fa-fw fa-google"></i>简书</a>
                  
                </span>
              
                <span class="links-of-author-item">
                  <a href="https://twitter.com/whiskeyfei" target="_blank" title="Twitter"><i class="fa fa-fw fa-twitter"></i>Twitter</a>
                  
                </span>
              
            </div>
          

          
          

          
          

          
            
          
          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; 2014 &mdash; <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">無名</span>

  

  
</div>




  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/theme-next/hexo-theme-next">NexT.Pisces</a> v6.0.5</div>




        








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


























  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=6.0.5"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=6.0.5"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=6.0.5"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=6.0.5"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=6.0.5"></script>



  



	





  





  










  





  

  

  

  

  
  

  

  

  

  

</body>
</html>
